"use strict";(self.webpackChunkducduchy_react_components=self.webpackChunkducduchy_react_components||[]).push([[946],{"./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-event.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>o});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_use_latest_value_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-latest-value.js");let o=function(t){let e=(0,_use_latest_value_js__WEBPACK_IMPORTED_MODULE_1__.E)(t);return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(((...r)=>e.current(...r)),[e])}},"./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-id.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>I});var u,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_use_iso_morphic_effect_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js"),_use_server_handoff_complete_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-server-handoff-complete.js");let l=0;function r(){return++l}let I=null!=(u=react__WEBPACK_IMPORTED_MODULE_0__.useId)?u:function(){let n=(0,_use_server_handoff_complete_js__WEBPACK_IMPORTED_MODULE_1__.H)(),[e,o]=react__WEBPACK_IMPORTED_MODULE_0__.useState(n?r:null);return(0,_use_iso_morphic_effect_js__WEBPACK_IMPORTED_MODULE_2__.e)((()=>{null===e&&o(r())}),[e]),null!=e?""+e:void 0}},"./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>t});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");let t="undefined"!=typeof window?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect},"./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-latest-value.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>s});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_use_iso_morphic_effect_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js");function s(e){let r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(e);return(0,_use_iso_morphic_effect_js__WEBPACK_IMPORTED_MODULE_1__.e)((()=>{r.current=e}),[e]),r}},"./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-server-handoff-complete.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>a});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");let r={serverHandoffComplete:!1};function a(){let[e,f]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(r.serverHandoffComplete);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{!0!==e&&f(!0)}),[e]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{!1===r.serverHandoffComplete&&(r.serverHandoffComplete=!0)}),[]),e}},"./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-sync-refs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>T,T:()=>y});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_use_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/hooks/use-event.js");let u=Symbol();function T(t,n=!0){return Object.assign(t,{[u]:n})}function y(...t){let n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(t);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{n.current=t}),[t]);let c=(0,_use_event_js__WEBPACK_IMPORTED_MODULE_1__.z)((e=>{for(let o of n.current)null!=o&&("function"==typeof o?o(e):o.current=e)}));return t.every((e=>null==e||(null==e?void 0:e[u])))?void 0:c}},"./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/utils/match.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function u(r,n,...a){if(r in n){let e=n[r];return"function"==typeof e?e(...a):e}let t=new Error(`Tried to handle "${r}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}__webpack_require__.d(__webpack_exports__,{E:()=>u})},"./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/utils/render.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AN:()=>x,l4:()=>R,oA:()=>g,yV:()=>H,sY:()=>_});var e,n,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_match_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@headlessui+react@1.6.5_react-dom@18.2.0_react@18.2.0/node_modules/@headlessui/react/dist/utils/match.js"),x=((n=x||{})[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n),R=((e=R||{})[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e);function _({ourProps:r,theirProps:t,slot:e,defaultTag:n,features:a,visible:s=!0,name:l}){let o=y(t,r);if(s)return f(o,e,n,l);let d=null!=a?a:0;if(2&d){let{static:i=!1,...u}=o;if(i)return f(u,e,n,l)}if(1&d){let{unmount:i=!0,...u}=o;return(0,_match_js__WEBPACK_IMPORTED_MODULE_1__.E)(i?0:1,{0:()=>null,1:()=>f({...u,hidden:!0,style:{display:"none"}},e,n,l)})}return f(o,e,n,l)}function f(r,t={},e,n){let{as:a=e,children:s,refName:l="ref",...o}=m(r,["unmount","static"]),d=void 0!==r.ref?{[l]:r.ref}:{},i="function"==typeof s?s(t):s;o.className&&"function"==typeof o.className&&(o.className=o.className(t));let u={};if(a===react__WEBPACK_IMPORTED_MODULE_0__.Fragment&&Object.keys(g(o)).length>0){if(!(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(i)||Array.isArray(i)&&i.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(o).map((p=>`  - ${p}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((p=>`  - ${p}`)).join("\n")].join("\n"));return(0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(i,Object.assign({},y(i.props,g(m(o,["ref"]))),u,d))}return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(a,Object.assign({},m(o,["ref"]),a!==react__WEBPACK_IMPORTED_MODULE_0__.Fragment&&d,a!==react__WEBPACK_IMPORTED_MODULE_0__.Fragment&&u),i)}function y(...r){if(0===r.length)return{};if(1===r.length)return r[0];let t={},e={};for(let a of r)for(let s in a)s.startsWith("on")&&"function"==typeof a[s]?(null!=e[s]||(e[s]=[]),e[s].push(a[s])):t[s]=a[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(e).map((a=>[a,void 0]))));for(let a in e)Object.assign(t,{[a](s,...l){let o=e[a];for(let d of o){if(s.defaultPrevented)return;d(s,...l)}}});return t}function H(r){var t;return Object.assign((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(r),{displayName:null!=(t=r.displayName)?t:r.name})}function g(r){let t=Object.assign({},r);for(let e in t)void 0===t[e]&&delete t[e];return t}function m(r,t=[]){let e=Object.assign({},r);for(let n of t)n in e&&delete e[n];return e}},"./node_modules/.pnpm/react-hook-form@7.23.0_react@18.2.0/node_modules/react-hook-form/dist/index.esm.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Qr:()=>Controller,RV:()=>FormProvider,cI:()=>useForm,Gc:()=>useFormContext,cl:()=>useFormState,qo:()=>useWatch});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),isCheckBoxInput=element=>"checkbox"===element.type,isDateObject=value=>value instanceof Date,isNullOrUndefined=value=>null==value;const isObjectType=value=>"object"==typeof value;var isObject=value=>!isNullOrUndefined(value)&&!Array.isArray(value)&&isObjectType(value)&&!isDateObject(value),getEventValue=event=>isObject(event)&&event.target?isCheckBoxInput(event.target)?event.target.checked:event.target.value:event,isNameInFieldArray=(names,name)=>[...names].some((current=>(name=>name.substring(0,name.search(/.\d/))||name)(name)===current)),compact=value=>value.filter(Boolean),isUndefined=val=>void 0===val,get=(obj,path,defaultValue)=>{if(!path||!isObject(obj))return defaultValue;const result=compact(path.split(/[,[\].]+?/)).reduce(((result,key)=>isNullOrUndefined(result)?result:result[key]),obj);return isUndefined(result)||result===obj?isUndefined(obj[path])?defaultValue:obj[path]:result};const EVENTS={BLUR:"blur",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES_max="max",INPUT_VALIDATION_RULES_min="min",INPUT_VALIDATION_RULES_maxLength="maxLength",INPUT_VALIDATION_RULES_minLength="minLength",INPUT_VALIDATION_RULES_pattern="pattern",INPUT_VALIDATION_RULES_required="required",INPUT_VALIDATION_RULES_validate="validate";var omit=(source,key)=>{const copy=Object.assign({},source);return delete copy[key],copy};const HookFormContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null),useFormContext=()=>react__WEBPACK_IMPORTED_MODULE_0__.useContext(HookFormContext),FormProvider=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(HookFormContext.Provider,{value:omit(props,"children")},props.children);var getProxyFormState=(formState,_proxyFormState,localProxyFormState,isRoot=!0)=>{function createGetter(prop){return()=>{if(prop in formState)return _proxyFormState[prop]!==VALIDATION_MODE.all&&(_proxyFormState[prop]=!isRoot||VALIDATION_MODE.all),localProxyFormState&&(localProxyFormState[prop]=!0),formState[prop]}}const result={};for(const key in formState)Object.defineProperty(result,key,{get:createGetter(key)});return result},isEmptyObject=value=>isObject(value)&&!Object.keys(value).length,shouldRenderFormState=(formStateData,_proxyFormState,isRoot)=>{const formState=omit(formStateData,"name");return isEmptyObject(formState)||Object.keys(formState).length>=Object.keys(_proxyFormState).length||Object.keys(formState).find((key=>_proxyFormState[key]===(!isRoot||VALIDATION_MODE.all)))},convertToArrayPayload=value=>Array.isArray(value)?value:[value],shouldSubscribeByName=(name,signalName,exact)=>exact&&signalName?name===signalName:!name||!signalName||name===signalName||convertToArrayPayload(name).some((currentName=>currentName&&(currentName.startsWith(signalName)||signalName.startsWith(currentName))));function useSubscribe(props){const _props=react__WEBPACK_IMPORTED_MODULE_0__.useRef(props);_props.current=props,react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const subscription=!props.disabled&&_props.current.subject.subscribe({next:_props.current.callback});return()=>(subscription=>{subscription&&subscription.unsubscribe()})(subscription)}),[props.disabled])}function useFormState(props){const methods=useFormContext(),{control=methods.control,disabled,name,exact}=props||{},[formState,updateFormState]=react__WEBPACK_IMPORTED_MODULE_0__.useState(control._formState),_localProxyFormState=react__WEBPACK_IMPORTED_MODULE_0__.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),_name=react__WEBPACK_IMPORTED_MODULE_0__.useRef(name),_mounted=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!0);_name.current=name;return useSubscribe({disabled,callback:react__WEBPACK_IMPORTED_MODULE_0__.useCallback((value=>_mounted.current&&shouldSubscribeByName(_name.current,value.name,exact)&&shouldRenderFormState(value,_localProxyFormState.current)&&updateFormState(Object.assign(Object.assign({},control._formState),value))),[control,exact]),subject:control._subjects.state}),react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>()=>{_mounted.current=!1}),[]),getProxyFormState(formState,control._proxyFormState,_localProxyFormState.current,!1)}var isString=value=>"string"==typeof value,generateWatchOutput=(names,_names,formValues,isGlobal)=>{const isArray=Array.isArray(names);return isString(names)?(isGlobal&&_names.watch.add(names),get(formValues,names)):isArray?names.map((fieldName=>(isGlobal&&_names.watch.add(fieldName),get(formValues,fieldName)))):(isGlobal&&(_names.watchAll=!0),formValues)},isFunction=value=>"function"==typeof value,objectHasFunction=data=>{for(const key in data)if(isFunction(data[key]))return!0;return!1};function useWatch(props){const methods=useFormContext(),{control=methods.control,name,defaultValue,disabled,exact}=props||{},_name=react__WEBPACK_IMPORTED_MODULE_0__.useRef(name);_name.current=name;const callback=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((formState=>{if(shouldSubscribeByName(_name.current,formState.name,exact)){const fieldValues=generateWatchOutput(_name.current,control._names,formState.values||control._formValues);updateValue(isUndefined(_name.current)||isObject(fieldValues)&&!objectHasFunction(fieldValues)?Object.assign({},fieldValues):Array.isArray(fieldValues)?[...fieldValues]:isUndefined(fieldValues)?defaultValue:fieldValues)}}),[control,exact,defaultValue]);useSubscribe({disabled,subject:control._subjects.watch,callback});const[value,updateValue]=react__WEBPACK_IMPORTED_MODULE_0__.useState(isUndefined(defaultValue)?control._getWatch(name):defaultValue);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{control._removeUnmounted()})),value}const Controller=props=>props.render(function useController(props){const methods=useFormContext(),{name,control=methods.control,shouldUnregister}=props,isArrayField=isNameInFieldArray(control._names.array,name),value=useWatch({control,name,defaultValue:get(control._formValues,name,get(control._defaultValues,name,props.defaultValue)),exact:!isArrayField}),formState=useFormState({control,name});react__WEBPACK_IMPORTED_MODULE_0__.useRef(name).current=name;const registerProps=control.register(name,Object.assign(Object.assign({},props.rules),{value}));return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const updateMounted=(name,value)=>{const field=get(control._fields,name);field&&(field._f.mount=value)};return updateMounted(name,!0),()=>{const _shouldUnregisterField=control._options.shouldUnregister||shouldUnregister;isArrayField?_shouldUnregisterField&&control._stateFlags.action:_shouldUnregisterField?control.unregister(name):updateMounted(name,!1)}}),[name,control,isArrayField,shouldUnregister]),{field:{onChange:event=>{registerProps.onChange({target:{value:getEventValue(event),name},type:EVENTS.CHANGE})},onBlur:()=>{registerProps.onBlur({target:{value:get(control._formValues,name),name},type:EVENTS.BLUR})},name,value,ref:elm=>{const field=get(control._fields,name);elm&&field&&elm.focus&&(field._f.ref={focus:()=>elm.focus(),setCustomValidity:message=>elm.setCustomValidity(message),reportValidity:()=>elm.reportValidity()})}},formState,fieldState:{invalid:!!get(formState.errors,name),isDirty:!!get(formState.dirtyFields,name),isTouched:!!get(formState.touchedFields,name),error:get(formState.errors,name)}}}(props));var appendErrors=(name,validateAllFieldCriteria,errors,type,message)=>validateAllFieldCriteria?Object.assign(Object.assign({},errors[name]),{types:Object.assign(Object.assign({},errors[name]&&errors[name].types?errors[name].types:{}),{[type]:message||!0})}):{},isKey=value=>/^\w*$/.test(value),stringToPath=input=>compact(input.replace(/["|']|\]/g,"").split(/\.|\[/));function set(object,path,value){let index=-1;const tempPath=isKey(path)?[path]:stringToPath(path),length=tempPath.length,lastIndex=length-1;for(;++index<length;){const key=tempPath[index];let newValue=value;if(index!==lastIndex){const objValue=object[key];newValue=isObject(objValue)||Array.isArray(objValue)?objValue:isNaN(+tempPath[index+1])?{}:[]}object[key]=newValue,object=object[key]}return object}const focusFieldBy=(fields,callback,fieldsNames)=>{for(const key of fieldsNames||Object.keys(fields)){const field=get(fields,key);if(field){const _f=field._f,current=omit(field,"_f");if(_f&&callback(_f.name)){if(_f.ref.focus&&isUndefined(_f.ref.focus()))break;if(_f.refs){_f.refs[0].focus();break}}else isObject(current)&&focusFieldBy(current,callback)}}};var isWatched=(name,_names,isBlurEvent)=>!isBlurEvent&&(_names.watchAll||_names.watch.has(name)||[..._names.watch].some((watchName=>name.startsWith(watchName)&&/^\.\w+/.test(name.slice(watchName.length)))));function cloneObject(data){let copy;const isArray=Array.isArray(data);if(data instanceof Date)copy=new Date(data);else if(data instanceof Set)copy=new Set(data);else{if(!isArray&&!isObject(data))return data;copy=isArray?[]:{};for(const key in data){if(isFunction(data[key])){copy=data;break}copy[key]=cloneObject(data[key])}}return copy}function createSubject(){let _observers=[];return{get observers(){return _observers},next:value=>{for(const observer of _observers)observer.next(value)},subscribe:observer=>(_observers.push(observer),{unsubscribe:()=>{_observers=_observers.filter((o=>o!==observer))}}),unsubscribe:()=>{_observers=[]}}}var isPrimitive=value=>isNullOrUndefined(value)||!isObjectType(value);function deepEqual(object1,object2){if(isPrimitive(object1)||isPrimitive(object2))return object1===object2;if(isDateObject(object1)&&isDateObject(object2))return object1.getTime()===object2.getTime();const keys1=Object.keys(object1),keys2=Object.keys(object2);if(keys1.length!==keys2.length)return!1;for(const key of keys1){const val1=object1[key];if(!keys2.includes(key))return!1;if("ref"!==key){const val2=object2[key];if(isDateObject(val1)&&isDateObject(val2)||isObject(val1)&&isObject(val2)||Array.isArray(val1)&&Array.isArray(val2)?!deepEqual(val1,val2):val1!==val2)return!1}}return!0}var getValidationModes=mode=>({isOnSubmit:!mode||mode===VALIDATION_MODE.onSubmit,isOnBlur:mode===VALIDATION_MODE.onBlur,isOnChange:mode===VALIDATION_MODE.onChange,isOnAll:mode===VALIDATION_MODE.all,isOnTouch:mode===VALIDATION_MODE.onTouched}),isBoolean=value=>"boolean"==typeof value,isFileInput=element=>"file"===element.type,isHTMLElement=value=>value instanceof HTMLElement,isMultipleSelect=element=>"select-multiple"===element.type,isRadioInput=element=>"radio"===element.type,isRadioOrCheckbox=ref=>isRadioInput(ref)||isCheckBoxInput(ref),isWeb="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document,live=ref=>isHTMLElement(ref)&&ref.isConnected;function unset(object,path){const updatePath=isKey(path)?[path]:stringToPath(path),childObject=1==updatePath.length?object:function baseGet(object,updatePath){const length=updatePath.slice(0,-1).length;let index=0;for(;index<length;)object=isUndefined(object)?index++:object[updatePath[index++]];return object}(object,updatePath),key=updatePath[updatePath.length-1];let previousObjRef;childObject&&delete childObject[key];for(let k=0;k<updatePath.slice(0,-1).length;k++){let objectRef,index=-1;const currentPaths=updatePath.slice(0,-(k+1)),currentPathsLength=currentPaths.length-1;for(k>0&&(previousObjRef=object);++index<currentPaths.length;){const item=currentPaths[index];objectRef=objectRef?objectRef[item]:object[item],currentPathsLength===index&&(isObject(objectRef)&&isEmptyObject(objectRef)||Array.isArray(objectRef)&&!objectRef.filter((data=>isObject(data)&&!isEmptyObject(data)||isBoolean(data))).length)&&(previousObjRef?delete previousObjRef[item]:delete object[item]),previousObjRef=objectRef}}return object}function markFieldsDirty(data,fields={}){const isParentNodeArray=Array.isArray(data);if(isObject(data)||isParentNodeArray)for(const key in data)Array.isArray(data[key])||isObject(data[key])&&!objectHasFunction(data[key])?(fields[key]=Array.isArray(data[key])?[]:{},markFieldsDirty(data[key],fields[key])):isNullOrUndefined(data[key])||(fields[key]=!0);return fields}function getDirtyFieldsFromDefaultValues(data,formValues,dirtyFieldsFromValues){const isParentNodeArray=Array.isArray(data);if(isObject(data)||isParentNodeArray)for(const key in data)Array.isArray(data[key])||isObject(data[key])&&!objectHasFunction(data[key])?isUndefined(formValues)||isPrimitive(dirtyFieldsFromValues[key])?dirtyFieldsFromValues[key]=Array.isArray(data[key])?markFieldsDirty(data[key],[]):Object.assign({},markFieldsDirty(data[key])):getDirtyFieldsFromDefaultValues(data[key],isNullOrUndefined(formValues)?{}:formValues[key],dirtyFieldsFromValues[key]):dirtyFieldsFromValues[key]=!deepEqual(data[key],formValues[key]);return dirtyFieldsFromValues}var getDirtyFields=(defaultValues,formValues)=>getDirtyFieldsFromDefaultValues(defaultValues,formValues,markFieldsDirty(formValues));const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=options=>{if(Array.isArray(options)){if(options.length>1){const values=options.filter((option=>option&&option.checked&&!option.disabled)).map((option=>option.value));return{value:values,isValid:!!values.length}}return options[0].checked&&!options[0].disabled?options[0].attributes&&!isUndefined(options[0].attributes.value)?isUndefined(options[0].value)||""===options[0].value?validResult:{value:options[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(value,{valueAsNumber,valueAsDate,setValueAs})=>isUndefined(value)?value:valueAsNumber?""===value?NaN:+value:valueAsDate&&isString(value)?new Date(value):setValueAs?setValueAs(value):value;const defaultReturn={isValid:!1,value:null};var getRadioValue=options=>Array.isArray(options)?options.reduce(((previous,option)=>option&&option.checked&&!option.disabled?{isValid:!0,value:option.value}:previous),defaultReturn):defaultReturn;function getFieldValue(_f){const ref=_f.ref;if(!(_f.refs?_f.refs.every((ref=>ref.disabled)):ref.disabled))return isFileInput(ref)?ref.files:isRadioInput(ref)?getRadioValue(_f.refs).value:isMultipleSelect(ref)?[...ref.selectedOptions].map((({value})=>value)):isCheckBoxInput(ref)?getCheckboxValue(_f.refs).value:getFieldValueAs(isUndefined(ref.value)?_f.ref.value:ref.value,_f)}var getResolverOptions=(fieldsNames,_fields,criteriaMode,shouldUseNativeValidation)=>{const fields={};for(const name of fieldsNames){const field=get(_fields,name);field&&set(fields,name,field._f)}return{criteriaMode,names:[...fieldsNames],fields,shouldUseNativeValidation}},isRegex=value=>value instanceof RegExp,getRuleValue=rule=>isUndefined(rule)?void 0:isRegex(rule)?rule.source:isObject(rule)?isRegex(rule.value)?rule.value.source:rule.value:rule,hasValidation=options=>options.mount&&(options.required||options.min||options.max||options.maxLength||options.minLength||options.pattern||options.validate);function schemaErrorLookup(errors,_fields,name){const error=get(errors,name);if(error||isKey(name))return{error,name};const names=name.split(".");for(;names.length;){const fieldName=names.join("."),field=get(_fields,fieldName),foundError=get(errors,fieldName);if(field&&!Array.isArray(field)&&name!==fieldName)return{name};if(foundError&&foundError.type)return{name:fieldName,error:foundError};names.pop()}return{name}}var skipValidation=(isBlurEvent,isTouched,isSubmitted,reValidateMode,mode)=>!mode.isOnAll&&(!isSubmitted&&mode.isOnTouch?!(isTouched||isBlurEvent):(isSubmitted?reValidateMode.isOnBlur:mode.isOnBlur)?!isBlurEvent:!(isSubmitted?reValidateMode.isOnChange:mode.isOnChange)||isBlurEvent),unsetEmptyArray=(ref,name)=>!compact(get(ref,name)).length&&unset(ref,name),isMessage=value=>isString(value)||react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(value);function getValidateError(result,ref,type="validate"){if(isMessage(result)||Array.isArray(result)&&result.every(isMessage)||isBoolean(result)&&!result)return{type,message:isMessage(result)?result:"",ref}}var getValueAndMessage=validationData=>isObject(validationData)&&!isRegex(validationData)?validationData:{value:validationData,message:""},validateField=async(field,inputValue,validateAllFieldCriteria,shouldUseNativeValidation)=>{const{ref,refs,required,maxLength,minLength,min,max,pattern,validate,name,valueAsNumber,mount,disabled}=field._f;if(!mount||disabled)return{};const inputRef=refs?refs[0]:ref,setCustomValidity=message=>{shouldUseNativeValidation&&inputRef.reportValidity&&(inputRef.setCustomValidity(isBoolean(message)?"":message||" "),inputRef.reportValidity())},error={},isRadio=isRadioInput(ref),isCheckBox=isCheckBoxInput(ref),isRadioOrCheckbox=isRadio||isCheckBox,isEmpty=(valueAsNumber||isFileInput(ref))&&!ref.value||""===inputValue||Array.isArray(inputValue)&&!inputValue.length,appendErrorsCurry=appendErrors.bind(null,name,validateAllFieldCriteria,error),getMinMaxMessage=(exceedMax,maxLengthMessage,minLengthMessage,maxType=INPUT_VALIDATION_RULES_maxLength,minType=INPUT_VALIDATION_RULES_minLength)=>{const message=exceedMax?maxLengthMessage:minLengthMessage;error[name]=Object.assign({type:exceedMax?maxType:minType,message,ref},appendErrorsCurry(exceedMax?maxType:minType,message))};if(required&&(!isRadioOrCheckbox&&(isEmpty||isNullOrUndefined(inputValue))||isBoolean(inputValue)&&!inputValue||isCheckBox&&!getCheckboxValue(refs).isValid||isRadio&&!getRadioValue(refs).isValid)){const{value,message}=isMessage(required)?{value:!!required,message:required}:getValueAndMessage(required);if(value&&(error[name]=Object.assign({type:INPUT_VALIDATION_RULES_required,message,ref:inputRef},appendErrorsCurry(INPUT_VALIDATION_RULES_required,message)),!validateAllFieldCriteria))return setCustomValidity(message),error}if(!(isEmpty||isNullOrUndefined(min)&&isNullOrUndefined(max))){let exceedMax,exceedMin;const maxOutput=getValueAndMessage(max),minOutput=getValueAndMessage(min);if(isNaN(inputValue)){const valueDate=ref.valueAsDate||new Date(inputValue);isString(maxOutput.value)&&(exceedMax=valueDate>new Date(maxOutput.value)),isString(minOutput.value)&&(exceedMin=valueDate<new Date(minOutput.value))}else{const valueNumber=ref.valueAsNumber||parseFloat(inputValue);isNullOrUndefined(maxOutput.value)||(exceedMax=valueNumber>maxOutput.value),isNullOrUndefined(minOutput.value)||(exceedMin=valueNumber<minOutput.value)}if((exceedMax||exceedMin)&&(getMinMaxMessage(!!exceedMax,maxOutput.message,minOutput.message,INPUT_VALIDATION_RULES_max,INPUT_VALIDATION_RULES_min),!validateAllFieldCriteria))return setCustomValidity(error[name].message),error}if((maxLength||minLength)&&!isEmpty&&isString(inputValue)){const maxLengthOutput=getValueAndMessage(maxLength),minLengthOutput=getValueAndMessage(minLength),exceedMax=!isNullOrUndefined(maxLengthOutput.value)&&inputValue.length>maxLengthOutput.value,exceedMin=!isNullOrUndefined(minLengthOutput.value)&&inputValue.length<minLengthOutput.value;if((exceedMax||exceedMin)&&(getMinMaxMessage(exceedMax,maxLengthOutput.message,minLengthOutput.message),!validateAllFieldCriteria))return setCustomValidity(error[name].message),error}if(pattern&&!isEmpty&&isString(inputValue)){const{value:patternValue,message}=getValueAndMessage(pattern);if(isRegex(patternValue)&&!inputValue.match(patternValue)&&(error[name]=Object.assign({type:INPUT_VALIDATION_RULES_pattern,message,ref},appendErrorsCurry(INPUT_VALIDATION_RULES_pattern,message)),!validateAllFieldCriteria))return setCustomValidity(message),error}if(validate)if(isFunction(validate)){const validateError=getValidateError(await validate(inputValue),inputRef);if(validateError&&(error[name]=Object.assign(Object.assign({},validateError),appendErrorsCurry(INPUT_VALIDATION_RULES_validate,validateError.message)),!validateAllFieldCriteria))return setCustomValidity(validateError.message),error}else if(isObject(validate)){let validationResult={};for(const key in validate){if(!isEmptyObject(validationResult)&&!validateAllFieldCriteria)break;const validateError=getValidateError(await validate[key](inputValue),inputRef,key);validateError&&(validationResult=Object.assign(Object.assign({},validateError),appendErrorsCurry(key,validateError.message)),setCustomValidity(validateError.message),validateAllFieldCriteria&&(error[name]=validationResult))}if(!isEmptyObject(validationResult)&&(error[name]=Object.assign({ref:inputRef},validationResult),!validateAllFieldCriteria))return error}return setCustomValidity(!0),error};const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(props={}){let delayErrorCallback,_options=Object.assign(Object.assign({},defaultOptions),props),_formState={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},_fields={},_defaultValues=_options.defaultValues||{},_formValues=_options.shouldUnregister?{}:cloneObject(_defaultValues),_stateFlags={action:!1,mount:!1,watch:!1},_names={mount:new Set,unMount:new Set,array:new Set,watch:new Set},timer=0,validateFields={};const _proxyFormState={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_subjects={watch:createSubject(),array:createSubject(),state:createSubject()},validationModeBeforeSubmit=getValidationModes(_options.mode),validationModeAfterSubmit=getValidationModes(_options.reValidateMode),shouldDisplayAllAssociatedErrors=_options.criteriaMode===VALIDATION_MODE.all,_updateValid=async shouldSkipRender=>{let isValid=!1;return _proxyFormState.isValid&&(isValid=_options.resolver?isEmptyObject((await _executeSchema()).errors):await executeBuildInValidation(_fields,!0),shouldSkipRender||isValid===_formState.isValid||(_formState.isValid=isValid,_subjects.state.next({isValid}))),isValid},updateErrors=(name,error)=>(set(_formState.errors,name,error),_subjects.state.next({errors:_formState.errors})),updateValidAndValue=(name,shouldSkipSetValueAs,value,ref)=>{const field=get(_fields,name);if(field){const defaultValue=get(_formValues,name,isUndefined(value)?get(_defaultValues,name):value);isUndefined(defaultValue)||ref&&ref.defaultChecked||shouldSkipSetValueAs?set(_formValues,name,shouldSkipSetValueAs?defaultValue:getFieldValue(field._f)):setFieldValue(name,defaultValue),_stateFlags.mount&&_updateValid()}},updateTouchAndDirty=(name,fieldValue,isCurrentTouched,shouldRender=!0)=>{let isFieldDirty=!1;const output={name},isPreviousFieldTouched=get(_formState.touchedFields,name);if(_proxyFormState.isDirty){const isPreviousFormDirty=_formState.isDirty;_formState.isDirty=output.isDirty=_getDirty(),isFieldDirty=isPreviousFormDirty!==output.isDirty}if(_proxyFormState.dirtyFields&&!isCurrentTouched){const isPreviousFieldDirty=get(_formState.dirtyFields,name);deepEqual(get(_defaultValues,name),fieldValue)?unset(_formState.dirtyFields,name):set(_formState.dirtyFields,name,!0),output.dirtyFields=_formState.dirtyFields,isFieldDirty=isFieldDirty||isPreviousFieldDirty!==get(_formState.dirtyFields,name)}return isCurrentTouched&&!isPreviousFieldTouched&&(set(_formState.touchedFields,name,isCurrentTouched),output.touchedFields=_formState.touchedFields,isFieldDirty=isFieldDirty||_proxyFormState.touchedFields&&isPreviousFieldTouched!==isCurrentTouched),isFieldDirty&&shouldRender&&_subjects.state.next(output),isFieldDirty?output:{}},shouldRenderByError=async(shouldSkipRender,name,isValid,error,fieldState)=>{const previousFieldError=get(_formState.errors,name),shouldUpdateValid=_proxyFormState.isValid&&_formState.isValid!==isValid;var callback,wait;if(props.delayError&&error?(delayErrorCallback=delayErrorCallback||(callback=updateErrors,wait=props.delayError,(...args)=>{clearTimeout(timer),timer=window.setTimeout((()=>callback(...args)),wait)}),delayErrorCallback(name,error)):(clearTimeout(timer),error?set(_formState.errors,name,error):unset(_formState.errors,name)),((error?!deepEqual(previousFieldError,error):previousFieldError)||!isEmptyObject(fieldState)||shouldUpdateValid)&&!shouldSkipRender){const updatedFormState=Object.assign(Object.assign(Object.assign({},fieldState),shouldUpdateValid?{isValid}:{}),{errors:_formState.errors,name});_formState=Object.assign(Object.assign({},_formState),updatedFormState),_subjects.state.next(updatedFormState)}validateFields[name]--,_proxyFormState.isValidating&&!validateFields[name]&&(_subjects.state.next({isValidating:!1}),validateFields={})},_executeSchema=async name=>_options.resolver?await _options.resolver(Object.assign({},_formValues),_options.context,getResolverOptions(name||_names.mount,_fields,_options.criteriaMode,_options.shouldUseNativeValidation)):{},executeBuildInValidation=async(fields,shouldOnlyCheckValid,context={valid:!0})=>{for(const name in fields){const field=fields[name];if(field){const fieldReference=field._f,fieldValue=omit(field,"_f");if(fieldReference){const fieldError=await validateField(field,get(_formValues,fieldReference.name),shouldDisplayAllAssociatedErrors,_options.shouldUseNativeValidation);if(fieldError[fieldReference.name]&&(context.valid=!1,shouldOnlyCheckValid))break;shouldOnlyCheckValid||(fieldError[fieldReference.name]?set(_formState.errors,fieldReference.name,fieldError[fieldReference.name]):unset(_formState.errors,fieldReference.name))}fieldValue&&await executeBuildInValidation(fieldValue,shouldOnlyCheckValid,context)}}return context.valid},_getDirty=(name,data)=>(name&&data&&set(_formValues,name,data),!deepEqual(getValues(),_defaultValues)),_getWatch=(names,defaultValue,isGlobal)=>{const fieldValues=Object.assign({},_stateFlags.mount?_formValues:isUndefined(defaultValue)?_defaultValues:isString(names)?{[names]:defaultValue}:defaultValue);return generateWatchOutput(names,_names,fieldValues,isGlobal)},setFieldValue=(name,value,options={})=>{const field=get(_fields,name);let fieldValue=value;if(field){const fieldReference=field._f;fieldReference&&(!fieldReference.disabled&&set(_formValues,name,getFieldValueAs(value,fieldReference)),fieldValue=isWeb&&isHTMLElement(fieldReference.ref)&&isNullOrUndefined(value)?"":value,isMultipleSelect(fieldReference.ref)?[...fieldReference.ref.options].forEach((selectRef=>selectRef.selected=fieldValue.includes(selectRef.value))):fieldReference.refs?isCheckBoxInput(fieldReference.ref)?fieldReference.refs.length>1?fieldReference.refs.forEach((checkboxRef=>checkboxRef.checked=Array.isArray(fieldValue)?!!fieldValue.find((data=>data===checkboxRef.value)):fieldValue===checkboxRef.value)):fieldReference.refs[0]&&(fieldReference.refs[0].checked=!!fieldValue):fieldReference.refs.forEach((radioRef=>radioRef.checked=radioRef.value===fieldValue)):isFileInput(fieldReference.ref)||(fieldReference.ref.value=fieldValue,fieldReference.ref.type||_subjects.watch.next({name})))}(options.shouldDirty||options.shouldTouch)&&updateTouchAndDirty(name,fieldValue,options.shouldTouch),options.shouldValidate&&trigger(name)},setValues=(name,value,options)=>{for(const fieldKey in value){const fieldValue=value[fieldKey],fieldName=`${name}.${fieldKey}`,field=get(_fields,fieldName);!_names.array.has(name)&&isPrimitive(fieldValue)&&(!field||field._f)||isDateObject(fieldValue)?setFieldValue(fieldName,fieldValue,options):setValues(fieldName,fieldValue,options)}},setValue=(name,value,options={})=>{const field=get(_fields,name),isFieldArray=_names.array.has(name);set(_formValues,name,value),isFieldArray?(_subjects.array.next({name,values:_formValues}),(_proxyFormState.isDirty||_proxyFormState.dirtyFields)&&options.shouldDirty&&(_formState.dirtyFields=getDirtyFields(_defaultValues,_formValues),_subjects.state.next({name,dirtyFields:_formState.dirtyFields,isDirty:_getDirty(name,value)}))):!field||field._f||isNullOrUndefined(value)?setFieldValue(name,value,options):setValues(name,value,options),isWatched(name,_names)&&_subjects.state.next({}),_subjects.watch.next({name})},onChange=async event=>{const target=event.target;let name=target.name;const field=get(_fields,name);if(field){let error,isValid;const fieldValue=target.type?getFieldValue(field._f):getEventValue(event),isBlurEvent=event.type===EVENTS.BLUR,shouldSkipValidation=!hasValidation(field._f)&&!_options.resolver&&!get(_formState.errors,name)&&!field._f.deps||skipValidation(isBlurEvent,get(_formState.touchedFields,name),_formState.isSubmitted,validationModeAfterSubmit,validationModeBeforeSubmit),watched=isWatched(name,_names,isBlurEvent);isBlurEvent?field._f.onBlur&&field._f.onBlur(event):field._f.onChange&&field._f.onChange(event),set(_formValues,name,fieldValue);const fieldState=updateTouchAndDirty(name,fieldValue,isBlurEvent,!1),shouldRender=!isEmptyObject(fieldState)||watched;if(!isBlurEvent&&_subjects.watch.next({name,type:event.type}),shouldSkipValidation)return shouldRender&&_subjects.state.next(Object.assign({name},watched?{}:fieldState));if(!isBlurEvent&&watched&&_subjects.state.next({}),validateFields[name]=(validateFields[name],1),_proxyFormState.isValidating&&_subjects.state.next({isValidating:!0}),_options.resolver){const{errors}=await _executeSchema([name]),previousErrorLookupResult=schemaErrorLookup(_formState.errors,_fields,name),errorLookupResult=schemaErrorLookup(errors,_fields,previousErrorLookupResult.name||name);error=errorLookupResult.error,name=errorLookupResult.name,isValid=isEmptyObject(errors)}else error=(await validateField(field,get(_formValues,name),shouldDisplayAllAssociatedErrors,_options.shouldUseNativeValidation))[name],isValid=await _updateValid(!0);field._f.deps&&trigger(field._f.deps),shouldRenderByError(!1,name,isValid,error,fieldState)}},trigger=async(name,options={})=>{let isValid,validationResult;const fieldNames=convertToArrayPayload(name);if(_subjects.state.next({isValidating:!0}),_options.resolver){const errors=await(async names=>{const{errors}=await _executeSchema();if(names)for(const name of names){const error=get(errors,name);error?set(_formState.errors,name,error):unset(_formState.errors,name)}else _formState.errors=errors;return errors})(isUndefined(name)?name:fieldNames);isValid=isEmptyObject(errors),validationResult=name?!fieldNames.some((name=>get(errors,name))):isValid}else name?(validationResult=(await Promise.all(fieldNames.map((async fieldName=>{const field=get(_fields,fieldName);return await executeBuildInValidation(field&&field._f?{[fieldName]:field}:field)})))).every(Boolean),(validationResult||_formState.isValid)&&_updateValid()):validationResult=isValid=await executeBuildInValidation(_fields);return _subjects.state.next(Object.assign(Object.assign(Object.assign({},!isString(name)||_proxyFormState.isValid&&isValid!==_formState.isValid?{}:{name}),_options.resolver?{isValid}:{}),{errors:_formState.errors,isValidating:!1})),options.shouldFocus&&!validationResult&&focusFieldBy(_fields,(key=>get(_formState.errors,key)),name?fieldNames:_names.mount),validationResult},getValues=fieldNames=>{const values=Object.assign(Object.assign({},_defaultValues),_stateFlags.mount?_formValues:{});return isUndefined(fieldNames)?values:isString(fieldNames)?get(values,fieldNames):fieldNames.map((name=>get(values,name)))},unregister=(name,options={})=>{for(const fieldName of name?convertToArrayPayload(name):_names.mount)_names.mount.delete(fieldName),_names.array.delete(fieldName),get(_fields,fieldName)&&(options.keepValue||(unset(_fields,fieldName),unset(_formValues,fieldName)),!options.keepError&&unset(_formState.errors,fieldName),!options.keepDirty&&unset(_formState.dirtyFields,fieldName),!options.keepTouched&&unset(_formState.touchedFields,fieldName),!_options.shouldUnregister&&!options.keepDefaultValue&&unset(_defaultValues,fieldName));_subjects.watch.next({}),_subjects.state.next(Object.assign(Object.assign({},_formState),options.keepDirty?{isDirty:_getDirty()}:{})),!options.keepIsValid&&_updateValid()},register=(name,options={})=>{let field=get(_fields,name);const disabledIsDefined=isBoolean(options.disabled);return set(_fields,name,{_f:Object.assign(Object.assign(Object.assign({},field&&field._f?field._f:{ref:{name}}),{name,mount:!0}),options)}),_names.mount.add(name),field?disabledIsDefined&&set(_formValues,name,options.disabled?void 0:get(_formValues,name,getFieldValue(field._f))):updateValidAndValue(name,!0,options.value),Object.assign(Object.assign(Object.assign({},disabledIsDefined?{disabled:options.disabled}:{}),_options.shouldUseNativeValidation?{required:!!options.required,min:getRuleValue(options.min),max:getRuleValue(options.max),minLength:getRuleValue(options.minLength),maxLength:getRuleValue(options.maxLength),pattern:getRuleValue(options.pattern)}:{}),{name,onChange,onBlur:onChange,ref:ref=>{if(ref){register(name,options),field=get(_fields,name);const fieldRef=isUndefined(ref.value)&&ref.querySelectorAll&&ref.querySelectorAll("input,select,textarea")[0]||ref,radioOrCheckbox=isRadioOrCheckbox(fieldRef),refs=field._f.refs||[];if(radioOrCheckbox?refs.find((option=>option===fieldRef)):fieldRef===field._f.ref)return;set(_fields,name,{_f:Object.assign(Object.assign({},field._f),radioOrCheckbox?{refs:refs.concat(fieldRef).filter(live),ref:{type:fieldRef.type,name}}:{ref:fieldRef})}),updateValidAndValue(name,!1,void 0,fieldRef)}else field=get(_fields,name,{}),field._f&&(field._f.mount=!1),(_options.shouldUnregister||options.shouldUnregister)&&(!isNameInFieldArray(_names.array,name)||!_stateFlags.action)&&_names.unMount.add(name)}})};return{control:{register,unregister,_executeSchema,_getWatch,_getDirty,_updateValid,_removeUnmounted:()=>{for(const name of _names.unMount){const field=get(_fields,name);field&&(field._f.refs?field._f.refs.every((ref=>!live(ref))):!live(field._f.ref))&&unregister(name)}_names.unMount=new Set},_updateFieldArray:(name,method,args,values=[],shouldSetValues=!0,shouldSetFields=!0)=>{if(_stateFlags.action=!0,shouldSetFields&&Array.isArray(get(_fields,name))){const fieldValues=method(get(_fields,name),args.argA,args.argB);shouldSetValues&&set(_fields,name,fieldValues)}if(_proxyFormState.errors&&shouldSetFields&&Array.isArray(get(_formState.errors,name))){const errors=method(get(_formState.errors,name),args.argA,args.argB);shouldSetValues&&set(_formState.errors,name,errors),unsetEmptyArray(_formState.errors,name)}if(_proxyFormState.touchedFields&&Array.isArray(get(_formState.touchedFields,name))){const touchedFields=method(get(_formState.touchedFields,name),args.argA,args.argB);shouldSetValues&&set(_formState.touchedFields,name,touchedFields)}_proxyFormState.dirtyFields&&(_formState.dirtyFields=getDirtyFields(_defaultValues,_formValues)),_subjects.state.next({isDirty:_getDirty(name,values),dirtyFields:_formState.dirtyFields,errors:_formState.errors,isValid:_formState.isValid})},_getFieldArray:name=>compact(get(_stateFlags.mount?_formValues:_defaultValues,name,props.shouldUnregister?get(_defaultValues,name,[]):[])),_subjects,_proxyFormState,get _fields(){return _fields},set _fields(value){_fields=value},get _formValues(){return _formValues},set _formValues(value){_formValues=value},get _stateFlags(){return _stateFlags},set _stateFlags(value){_stateFlags=value},get _defaultValues(){return _defaultValues},set _defaultValues(value){_defaultValues=value},get _names(){return _names},set _names(value){_names=value},get _formState(){return _formState},set _formState(value){_formState=value},get _options(){return _options},set _options(value){_options=Object.assign(Object.assign({},_options),value)}},trigger,register,handleSubmit:(onValid,onInvalid)=>async e=>{e&&(e.preventDefault&&e.preventDefault(),e.persist&&e.persist());let hasNoPromiseError=!0,fieldValues=_options.shouldUnregister?cloneObject(_formValues):Object.assign({},_formValues);_subjects.state.next({isSubmitting:!0});try{if(_options.resolver){const{errors,values}=await _executeSchema();_formState.errors=errors,fieldValues=values}else await executeBuildInValidation(_fields);isEmptyObject(_formState.errors)&&Object.keys(_formState.errors).every((name=>get(fieldValues,name)))?(_subjects.state.next({errors:{},isSubmitting:!0}),await onValid(fieldValues,e)):(onInvalid&&await onInvalid(_formState.errors,e),_options.shouldFocusError&&focusFieldBy(_fields,(key=>get(_formState.errors,key)),_names.mount))}catch(err){throw hasNoPromiseError=!1,err}finally{_formState.isSubmitted=!0,_subjects.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(_formState.errors)&&hasNoPromiseError,submitCount:_formState.submitCount+1,errors:_formState.errors})}},watch:(name,defaultValue)=>isFunction(name)?_subjects.watch.subscribe({next:info=>name(_getWatch(void 0,defaultValue),info)}):_getWatch(name,defaultValue,!0),setValue,getValues,reset:(formValues,keepStateOptions={})=>{const updatedValues=formValues||_defaultValues,cloneUpdatedValues=cloneObject(updatedValues),values=formValues&&!isEmptyObject(formValues)?cloneUpdatedValues:_defaultValues;if(keepStateOptions.keepDefaultValues||(_defaultValues=updatedValues),!keepStateOptions.keepValues){if(isWeb&&isUndefined(formValues))for(const name of _names.mount){const field=get(_fields,name);if(field&&field._f){const fieldReference=Array.isArray(field._f.refs)?field._f.refs[0]:field._f.ref;try{isHTMLElement(fieldReference)&&fieldReference.closest("form").reset();break}catch(_a){}}}_formValues=props.shouldUnregister?keepStateOptions.keepDefaultValues?cloneObject(_defaultValues):{}:cloneUpdatedValues,_fields={},_subjects.array.next({values}),_subjects.watch.next({values})}_names={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},_stateFlags.mount=!_proxyFormState.isValid||!!keepStateOptions.keepIsValid,_stateFlags.watch=!!props.shouldUnregister,_subjects.state.next({submitCount:keepStateOptions.keepSubmitCount?_formState.submitCount:0,isDirty:keepStateOptions.keepDirty?_formState.isDirty:!!keepStateOptions.keepDefaultValues&&!deepEqual(formValues,_defaultValues),isSubmitted:!!keepStateOptions.keepIsSubmitted&&_formState.isSubmitted,dirtyFields:keepStateOptions.keepDirty?_formState.dirtyFields:keepStateOptions.keepDefaultValues&&formValues?Object.entries(formValues).reduce(((previous,[key,value])=>Object.assign(Object.assign({},previous),{[key]:value!==get(_defaultValues,key)})),{}):{},touchedFields:keepStateOptions.keepTouched?_formState.touchedFields:{},errors:keepStateOptions.keepErrors?_formState.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(name,options={})=>{isUndefined(options.defaultValue)?setValue(name,get(_defaultValues,name)):(setValue(name,options.defaultValue),set(_defaultValues,name,options.defaultValue)),options.keepTouched||unset(_formState.touchedFields,name),options.keepDirty||(unset(_formState.dirtyFields,name),_formState.isDirty=options.defaultValue?_getDirty(name,get(_defaultValues,name)):_getDirty()),options.keepError||(unset(_formState.errors,name),_proxyFormState.isValid&&_updateValid()),_subjects.state.next(Object.assign({},_formState))},clearErrors:name=>{name?convertToArrayPayload(name).forEach((inputName=>unset(_formState.errors,inputName))):_formState.errors={},_subjects.state.next({errors:_formState.errors})},unregister,setError:(name,error,options)=>{const ref=(get(_fields,name,{_f:{}})._f||{}).ref;set(_formState.errors,name,Object.assign(Object.assign({},error),{ref})),_subjects.state.next({name,errors:_formState.errors,isValid:!1}),options&&options.shouldFocus&&ref&&ref.focus&&ref.focus()},setFocus:name=>{const field=get(_fields,name)._f;(field.ref.focus?field.ref:field.refs[0]).focus()}}}function useForm(props={}){const _formControl=react__WEBPACK_IMPORTED_MODULE_0__.useRef(),[formState,updateFormState]=react__WEBPACK_IMPORTED_MODULE_0__.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});_formControl.current?_formControl.current.control._options=props:_formControl.current=Object.assign(Object.assign({},createFormControl(props)),{formState});const control=_formControl.current.control,callback=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((value=>{shouldRenderFormState(value,control._proxyFormState,!0)&&(control._formState=Object.assign(Object.assign({},control._formState),value),updateFormState(Object.assign({},control._formState)))}),[control]);return useSubscribe({subject:control._subjects.state,callback}),react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{control._stateFlags.mount||(control._proxyFormState.isValid&&control._updateValid(),control._stateFlags.mount=!0),control._stateFlags.watch&&(control._stateFlags.watch=!1,control._subjects.state.next({})),control._removeUnmounted()})),_formControl.current.formState=getProxyFormState(formState,control._proxyFormState),_formControl.current}}}]);