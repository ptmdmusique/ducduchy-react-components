import{r as f}from"./index-CTjT7uj6.js";import{h as w,T as p,o as E}from"./focus-management-CaV_VYtM.js";import{c as m}from"./render-C-IlGZgy.js";function g(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function L(){return/Android/gi.test(window.navigator.userAgent)}function h(){return g()||L()}function s(e,d,r){let c=m(d);f.useEffect(()=>{function u(i){c.current(i)}return document.addEventListener(e,u,r),()=>document.removeEventListener(e,u,r)},[e,r])}function P(e,d,r){let c=m(d);f.useEffect(()=>{function u(i){c.current(i)}return window.addEventListener(e,u,r),()=>window.removeEventListener(e,u,r)},[e,r])}function x(e,d,r=!0){let c=f.useRef(!1);f.useEffect(()=>{requestAnimationFrame(()=>{c.current=r})},[r]);function u(t,l){if(!c.current||t.defaultPrevented)return;let n=l(t);if(n===null||!n.getRootNode().contains(n)||!n.isConnected)return;let v=function a(o){return typeof o=="function"?a(o()):Array.isArray(o)||o instanceof Set?o:[o]}(e);for(let a of v){if(a===null)continue;let o=a instanceof HTMLElement?a:a.current;if(o!=null&&o.contains(n)||t.composed&&t.composedPath().includes(o))return}return!w(n,p.Loose)&&n.tabIndex!==-1&&t.preventDefault(),d(t,n)}let i=f.useRef(null);s("pointerdown",t=>{var l,n;c.current&&(i.current=((n=(l=t.composedPath)==null?void 0:l.call(t))==null?void 0:n[0])||t.target)},!0),s("mousedown",t=>{var l,n;c.current&&(i.current=((n=(l=t.composedPath)==null?void 0:l.call(t))==null?void 0:n[0])||t.target)},!0),s("click",t=>{h()||i.current&&(u(t,()=>i.current),i.current=null)},!0),s("touchend",t=>u(t,()=>t.target instanceof HTMLElement?t.target:null),!0),P("blur",t=>u(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function y(...e){return f.useMemo(()=>E(...e),[...e])}export{y as n,P as s,g as t,x as y};
