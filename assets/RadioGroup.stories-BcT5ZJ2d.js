import{j as c}from"./jsx-runtime-D_zvdyIk.js";import{C as Se,u as ke,F as qe}from"./index.esm--LincS5R.js";import{S as Ne}from"./StorybookCommonWithForm-AWrnt9pC.js";import{c as X,s as _}from"./index-KpAVk5lk.js";import{H as Re,a as ye,U as Me,w as xe}from"./description-75re-mSO.js";import{$ as $e,a as Fe}from"./useFocusRing-D4bu8X2q.js";import{r as t,R as M}from"./index-BCtMShv3.js";import{l as we,T as Ie,p as We,j as Ae}from"./form-fields-CrT2I_7K.js";import{K as ee,y as re,s as Ve,n as Ge,a as K,_ as _e,L as ae,u as Le}from"./use-sync-refs-CZ2KMCOF.js";import{Q as Oe,u as Ue,I as Ke,K as Ce}from"./label-BRHKpGXr.js";import{r as De}from"./bugs-DpEN4NTH.js";import{P as se,F as Y,T as ue,_ as He}from"./focus-management-Bh_oGY5B.js";import{u as Be,o as I}from"./keyboard-tlvg-gRs.js";import"./Button-Dw10h_TB.js";import"./Icon-DLP5P1Ct.js";import"./index-CvPWi8JN.js";import"./index-BqCLlfdy.js";import"./index-D-fs5e6L.js";import"./hidden-CkFg_2Sb.js";function Qe(e,r){return e!==null&&r!==null&&typeof e=="object"&&typeof r=="object"&&"id"in e&&"id"in r?e.id===r.id:e===r}function ze(e=Qe){return t.useCallback((r,o)=>{if(typeof e=="string"){let a=e;return(r==null?void 0:r[a])===(o==null?void 0:o[a])}return e(r,o)},[e])}var Je=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Je||{});let Xe={0(e,r){let o=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:He(o,a=>a.element.current)}},1(e,r){let o=e.options.slice(),a=e.options.findIndex(p=>p.id===r.id);return a===-1?e:(o.splice(a,1),{...e,options:o})}},oe=t.createContext(null);oe.displayName="RadioGroupDataContext";function te(e){let r=t.useContext(oe);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,te),o}return r}let ie=t.createContext(null);ie.displayName="RadioGroupActionsContext";function ne(e){let r=t.useContext(ie);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ne),o}return r}function Ye(e,r){return Le(r.type,Xe,e,r)}let Ze="div";function er(e,r){let o=t.useId(),a=ye(),{id:p=`headlessui-radiogroup-${o}`,value:T,form:C,name:f,onChange:m,by:v,disabled:d=a||!1,defaultValue:n,...y}=e,b=ze(v),[F,j]=t.useReducer(Ye,{options:[]}),g=F.options,[V,S]=Ce(),[k,G]=xe(),D=t.useRef(null),q=re(D,r),E=we(n),[l,s]=Ie(T,m,E),R=t.useMemo(()=>g.find(u=>!u.propsRef.current.disabled),[g]),h=t.useMemo(()=>g.some(u=>b(u.propsRef.current.value,l)),[g,l]),i=K(u=>{var W;if(d||b(u,l))return!1;let P=(W=g.find(J=>b(J.propsRef.current.value,u)))==null?void 0:W.propsRef.current;return P!=null&&P.disabled?!1:(s==null||s(u),!0)}),x=K(u=>{let W=D.current;if(!W)return;let P=Be(W),J=g.filter($=>$.propsRef.current.disabled===!1).map($=>$.element.current);switch(u.key){case I.Enter:We(u.currentTarget);break;case I.ArrowLeft:case I.ArrowUp:if(u.preventDefault(),u.stopPropagation(),se(J,Y.Previous|Y.WrapAround)===ue.Success){let $=g.find(A=>A.element.current===(P==null?void 0:P.activeElement));$&&i($.propsRef.current.value)}break;case I.ArrowRight:case I.ArrowDown:if(u.preventDefault(),u.stopPropagation(),se(J,Y.Next|Y.WrapAround)===ue.Success){let $=g.find(A=>A.element.current===(P==null?void 0:P.activeElement));$&&i($.propsRef.current.value)}break;case I.Space:{u.preventDefault(),u.stopPropagation();let $=g.find(A=>A.element.current===(P==null?void 0:P.activeElement));$&&i($.propsRef.current.value)}break}}),N=K(u=>(j({type:0,...u}),()=>j({type:1,id:u.id}))),B=t.useMemo(()=>({value:l,firstOption:R,containsCheckedOption:h,disabled:d,compare:b,...F}),[l,R,h,d,b,F]),Q=t.useMemo(()=>({registerOption:N,change:i}),[N,i]),z={ref:q,id:p,role:"radiogroup","aria-labelledby":V,"aria-describedby":k,onKeyDown:x},w=t.useMemo(()=>({value:l}),[l]),Pe=t.useCallback(()=>{if(E!==void 0)return i(E)},[i,E]),Te=ae();return M.createElement(G,{name:"RadioGroup.Description"},M.createElement(S,{name:"RadioGroup.Label"},M.createElement(ie.Provider,{value:Q},M.createElement(oe.Provider,{value:B},f!=null&&M.createElement(Ae,{disabled:d,data:{[f]:l||"on"},overrides:{type:"radio",checked:l!=null},form:C,onReset:Pe}),Te({ourProps:z,theirProps:y,slot:w,defaultTag:Ze,name:"RadioGroup"})))))}let rr="div";function ar(e,r){var o;let a=te("RadioGroup.Option"),p=ne("RadioGroup.Option"),T=t.useId(),{id:C=`headlessui-radiogroup-option-${T}`,value:f,disabled:m=a.disabled||!1,autoFocus:v=!1,...d}=e,n=t.useRef(null),y=re(n,r),[b,F]=Ce(),[j,g]=xe(),V=Ve({value:f,disabled:m});Ge(()=>p.registerOption({id:C,element:n,propsRef:V}),[C,p,n,V]);let S=K(i=>{var x;if(De(i.currentTarget))return i.preventDefault();p.change(f)&&((x=n.current)==null||x.focus())}),k=((o=a.firstOption)==null?void 0:o.id)===C,{isFocusVisible:G,focusProps:D}=$e({autoFocus:v}),{isHovered:q,hoverProps:E}=Fe({isDisabled:m}),l=a.compare(a.value,f),s=_e({ref:y,id:C,role:"radio","aria-checked":l?"true":"false","aria-labelledby":b,"aria-describedby":j,"aria-disabled":m?!0:void 0,tabIndex:m?-1:l||!a.containsCheckedOption&&k?0:-1,onClick:m?void 0:S,autoFocus:v},D,E),R=t.useMemo(()=>({checked:l,disabled:m,active:G,hover:q,focus:G,autofocus:v}),[l,m,q,G,v]),h=ae();return M.createElement(g,{name:"RadioGroup.Description"},M.createElement(F,{name:"RadioGroup.Label"},h({ourProps:s,theirProps:d,slot:R,defaultTag:rr,name:"RadioGroup.Option"})))}let or="span";function tr(e,r){var o;let a=te("Radio"),p=ne("Radio"),T=t.useId(),C=Ue(),f=ye(),{id:m=C||`headlessui-radio-${T}`,value:v,disabled:d=a.disabled||f||!1,autoFocus:n=!1,...y}=e,b=t.useRef(null),F=re(b,r),j=Ke(),g=Me(),V=Ve({value:v,disabled:d});Ge(()=>p.registerOption({id:m,element:b,propsRef:V}),[m,p,b,V]);let S=K(h=>{var i;if(De(h.currentTarget))return h.preventDefault();p.change(v)&&((i=b.current)==null||i.focus())}),{isFocusVisible:k,focusProps:G}=$e({autoFocus:n}),{isHovered:D,hoverProps:q}=Fe({isDisabled:d}),E=((o=a.firstOption)==null?void 0:o.id)===m,l=a.compare(a.value,v),s=_e({ref:F,id:m,role:"radio","aria-checked":l?"true":"false","aria-labelledby":j,"aria-describedby":g,"aria-disabled":d?!0:void 0,tabIndex:d?-1:l||!a.containsCheckedOption&&E?0:-1,autoFocus:n,onClick:d?void 0:S},G,q),R=t.useMemo(()=>({checked:l,disabled:d,hover:D,focus:k,autofocus:n}),[l,d,D,k,n]);return ae()({ourProps:s,theirProps:y,slot:R,defaultTag:or,name:"Radio"})}let ir=ee(er),nr=ee(ar),Ee=ee(tr),lr=Oe,sr=Re,Z=Object.assign(ir,{Option:nr,Radio:Ee,Label:lr,Description:sr});const ur=(e,r,o)=>Math.max(e,Math.min(r,o));function H({className:e,itemClassName:r,itemClassNameGetter:o,dataList:a,getValue:p,radioGroupLabel:T,defaultSelectedIndex:C=-1,selectedIndex:f,disabled:m,renderOption:v,onChange:d,checkOptionDisable:n,getLabel:y,getDescription:b,leftLabel:F,formValidation:j,colorType:g="neutral"}){const[V,S]=t.useState((()=>{let s=ur(-1,a.length-1,f??C);return s>-1&&(n!=null&&n(a[s],s))&&(s=a.findIndex((R,h)=>!(n!=null&&n(R,h)))),s})());t.useEffect(()=>{f!==void 0&&S(f>=0&&f<a.length?f:-1)},[f,a.length]);const k=t.useMemo(()=>{const s={};return a.forEach((R,h)=>{s[p(R)]={data:R,index:h}}),s},[a,p]),G=V>-1&&V<a.length?p(a[V]):void 0,D=s=>{const R=i=>{const{data:x,index:N}=k[i]||{};f===void 0&&S(N),d==null||d(x,N),s==null||s(p(x))},h=i=>c.jsx(Z.Label,{className:X("radio-label",{"radio-label--left":F}),children:i});return c.jsxs(Z,{disabled:m,defaultValue:G,value:G,onChange:R,className:X("form-radio-group-container",{"form-radio-group-container--disabled":m},{"form-radio-group-container--default":!v},e),children:[T&&c.jsx(Z.Label,{className:"radio-main-label",children:T}),a.map((i,x)=>{const N=n==null?void 0:n(i,x);return c.jsx(Ee,{value:p(i),className:X("radio-container",{"radio-container--disabled":N},r,o==null?void 0:o(i,x)),disabled:N,children:({checked:B,focus:Q,disabled:z})=>{const w={data:i,index:x,checked:B,active:Q,disabled:z};return(v==null?void 0:v(w))??c.jsxs(c.Fragment,{children:[F&&h(y==null?void 0:y(w)),c.jsx("div",{className:X("form-radio-group__radio",`form-radio-group__radio--${g}`,{"form-radio-group__radio--checked":B},{"form-radio-group__radio--active":Q},{"form-radio-group__radio--disabled":z}),children:c.jsx("div",{className:"inner"})}),!F&&h(y==null?void 0:y(w)),b&&c.jsx(Re,{children:b(w)})]})}},x)})]})};if(!j)return D();const{control:q,name:E,rules:l}=j;return c.jsx(Se,{name:E,rules:l,control:q,defaultValue:G,render:({field:{onChange:s}})=>D(s)})}try{H.displayName="RadioGroup",H.__docgenInfo={description:"",displayName:"RadioGroup",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},itemClassName:{defaultValue:null,description:"",name:"itemClassName",required:!1,type:{name:"string"}},itemClassNameGetter:{defaultValue:null,description:"",name:"itemClassNameGetter",required:!1,type:{name:"((item: Data, index: number) => string)"}},dataList:{defaultValue:null,description:"",name:"dataList",required:!0,type:{name:"Data[]"}},defaultSelectedIndex:{defaultValue:{value:"-1"},description:"",name:"defaultSelectedIndex",required:!1,type:{name:"number"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},getValue:{defaultValue:null,description:"",name:"getValue",required:!0,type:{name:"(data: Data) => Value"}},checkOptionDisable:{defaultValue:null,description:"",name:"checkOptionDisable",required:!1,type:{name:"((data: Data, index: number) => boolean)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((data: Data, index: number) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},radioGroupLabel:{defaultValue:null,description:"",name:"radioGroupLabel",required:!1,type:{name:"ReactNode"}},renderOption:{defaultValue:null,description:"",name:"renderOption",required:!1,type:{name:"GetFunction<Data>"}},getLabel:{defaultValue:null,description:"",name:"getLabel",required:!1,type:{name:"GetFunction<Data>"}},getDescription:{defaultValue:null,description:"",name:"getDescription",required:!1,type:{name:"GetFunction<Data>"}},leftLabel:{defaultValue:null,description:"",name:"leftLabel",required:!1,type:{name:"boolean"}},formValidation:{defaultValue:null,description:"",name:"formValidation",required:!1,type:{name:"FormValidationWithController<FormFields>"}},colorType:{defaultValue:{value:"neutral"},description:"",name:"colorType",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"danger"'},{value:'"warning"'},{value:'"info"'},{value:'"neutral"'}]}}}}}catch{}const le=[{data:"🐶 Dog",disabled:!0},{data:"🐱 Cat"},{data:"🐭 Mouse"},{data:"🦜 Bird"}],jr={title:"Components/Form/RadioGroup",component:H,argTypes:{formValidation:_,onChange:_,renderOption:_,getDescription:_,itemClassNameGetter:_,itemClassName:_,checkOptionDisable:_,getValue:_,getLabel:_,className:_,radioGroupLabel:_},parameters:{controls:{expanded:!0}}},je=e=>c.jsx(H,{...e}),L=je.bind({});L.args={dataList:le,getValue:({data:e})=>e,getLabel:({data:e})=>c.jsx("div",{children:e.data}),checkOptionDisable:({disabled:e})=>e};const O=je.bind({});O.args={dataList:le,getValue:({data:e})=>e,getLabel:({data:e})=>c.jsx("div",{children:e.data}),checkOptionDisable:({disabled:e})=>e,radioGroupLabel:c.jsx("div",{className:"text-lg font-semibold text-skin-exquisite",children:"😶‍🌫️ A Fancy Label 😶‍🌫️"})};const dr=e=>{const r=ke();return c.jsx(qe,{...r,children:c.jsx(Ne,{children:c.jsx(H,{formValidation:{control:r.control,name:"radioGroup"},...e})})})},U=dr.bind({});U.args={dataList:le,getValue:({data:e})=>e,getLabel:({data:e})=>c.jsx("div",{children:e.data}),checkOptionDisable:({disabled:e})=>e};var de,ce,pe;L.parameters={...L.parameters,docs:{...(de=L.parameters)==null?void 0:de.docs,source:{originalSource:"args => <RadioGroup {...args} />",...(pe=(ce=L.parameters)==null?void 0:ce.docs)==null?void 0:pe.source}}};var me,fe,ve;O.parameters={...O.parameters,docs:{...(me=O.parameters)==null?void 0:me.docs,source:{originalSource:"args => <RadioGroup {...args} />",...(ve=(fe=O.parameters)==null?void 0:fe.docs)==null?void 0:ve.source}}};var be,ge,he;U.parameters={...U.parameters,docs:{...(be=U.parameters)==null?void 0:be.docs,source:{originalSource:`args => {
  const methods = useForm();
  return <FormProvider {...methods}>\r
      <StorybookCommonWithForm>\r
        <RadioGroup formValidation={{
        control: methods.control,
        name: "radioGroup"
      }} {...args} />\r
      </StorybookCommonWithForm>\r
    </FormProvider>;
}`,...(he=(ge=U.parameters)==null?void 0:ge.docs)==null?void 0:he.source}}};const Pr=["Default","WithGroupLabel","WithForm"];export{L as Default,U as WithForm,O as WithGroupLabel,Pr as __namedExportsOrder,jr as default};
