import{j as f}from"./jsx-runtime-D_zvdyIk.js";import{r,R as q}from"./index-BCtMShv3.js";import{c as D,C as Fe,s as C}from"./index-KpAVk5lk.js";import{$ as Te,a as De}from"./useFocusRing-D4bu8X2q.js";import{w as Ae,e as qe}from"./use-resolve-button-type-DNd3Xgnw.js";import{K as J,s as Q,y as K,a as F,n as re,L as X,_ as Ie,u as W,c as Oe,O as de}from"./use-sync-refs-CZ2KMCOF.js";import{f as Ge}from"./use-is-mounted-suvdIMg-.js";import{f as Pe,s as Ve}from"./hidden-CkFg_2Sb.js";import{P as A,F as w,T as Z,_ as U}from"./focus-management-Bh_oGY5B.js";import{o as M,u as Be}from"./keyboard-tlvg-gRs.js";import{I as se}from"./Icon-DLP5P1Ct.js";import{B as He}from"./Button-Dw10h_TB.js";import"./index-CvPWi8JN.js";function Ue({onFocus:e}){let[t,a]=r.useState(!0),n=Ge();return t?q.createElement(Pe,{as:"button",type:"button",features:Ve.Focusable,onFocus:i=>{i.preventDefault();let o,s=50;function u(){if(s--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!n.current)return;a(!1);return}o=requestAnimationFrame(u)}o=requestAnimationFrame(u)}}):null}const Ne=r.createContext(null);function We(){return{groups:new Map,get(e,t){var a;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let i=(a=n.get(t))!=null?a:0;n.set(t,i+1);let o=Array.from(n.keys()).indexOf(t);function s(){let u=n.get(t);u>1?n.set(t,u-1):n.delete(t)}return[o,s]}}}function Je({children:e}){let t=r.useRef(We());return r.createElement(Ne.Provider,{value:t},e)}function Ee(e){let t=r.useContext(Ne);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let a=r.useId(),[n,i]=t.current.get(e,a);return r.useEffect(()=>i,[]),n}var Ke=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ke||{}),Xe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Xe||{}),ze=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(ze||{});let Ye={0(e,t){var a;let n=U(e.tabs,c=>c.current),i=U(e.panels,c=>c.current),o=n.filter(c=>{var h;return!((h=c.current)!=null&&h.hasAttribute("disabled"))}),s={...e,tabs:n,panels:i};if(t.index<0||t.index>n.length-1){let c=W(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>W(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return s;let h=W(c,{0:()=>n.indexOf(o[0]),1:()=>n.indexOf(o[o.length-1])});return{...s,selectedIndex:h===-1?e.selectedIndex:h}}let u=n.slice(0,t.index),P=[...n.slice(t.index),...u].find(c=>o.includes(c));if(!P)return s;let I=(a=n.indexOf(P))!=null?a:e.selectedIndex;return I===-1&&(I=e.selectedIndex),{...s,selectedIndex:I}},1(e,t){if(e.tabs.includes(t.tab))return e;let a=e.tabs[e.selectedIndex],n=U([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=n.indexOf(a),i===-1&&(i=e.selectedIndex)),{...e,tabs:n,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(a=>a!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:U([...e.panels,t.panel],a=>a.current)}},4(e,t){return{...e,panels:e.panels.filter(a=>a!==t.panel)}}},le=r.createContext(null);le.displayName="TabsDataContext";function O(e){let t=r.useContext(le);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,O),a}return t}let oe=r.createContext(null);oe.displayName="TabsActionsContext";function ie(e){let t=r.useContext(oe);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,ie),a}return t}function Qe(e,t){return W(t.type,Ye,e,t)}let Ze="div";function et(e,t){let{defaultIndex:a=0,vertical:n=!1,manual:i=!1,onChange:o,selectedIndex:s=null,...u}=e;const P=n?"vertical":"horizontal",I=i?"manual":"auto";let c=s!==null,h=Q({isControlled:c}),N=K(t),[m,d]=r.useReducer(Qe,{info:h,selectedIndex:s??a,tabs:[],panels:[]}),j=r.useMemo(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),_=Q(o||(()=>{})),L=Q(m.tabs),x=r.useMemo(()=>({orientation:P,activation:I,...m}),[P,I,m]),E=F(l=>(d({type:1,tab:l}),()=>d({type:2,tab:l}))),R=F(l=>(d({type:3,panel:l}),()=>d({type:4,panel:l}))),g=F(l=>{y.current!==l&&_.current(l),c||d({type:0,index:l})}),y=Q(c?e.selectedIndex:m.selectedIndex),$=r.useMemo(()=>({registerTab:E,registerPanel:R,change:g}),[]);re(()=>{d({type:0,index:s??a})},[s]),re(()=>{if(y.current===void 0||m.tabs.length<=0)return;let l=U(m.tabs,b=>b.current);l.some((b,v)=>m.tabs[v]!==b)&&g(l.indexOf(m.tabs[y.current]))});let B={ref:N},T=X();return q.createElement(Je,null,q.createElement(oe.Provider,{value:$},q.createElement(le.Provider,{value:x},x.tabs.length<=0&&q.createElement(Ue,{onFocus:()=>{var l,b;for(let v of L.current)if(((l=v.current)==null?void 0:l.tabIndex)===0)return(b=v.current)==null||b.focus(),!0;return!1}}),T({ourProps:B,theirProps:u,slot:j,defaultTag:Ze,name:"Tabs"}))))}let tt="div";function nt(e,t){let{orientation:a,selectedIndex:n}=O("Tab.List"),i=K(t),o=r.useMemo(()=>({selectedIndex:n}),[n]),s=e,u={ref:i,role:"tablist","aria-orientation":a};return X()({ourProps:u,theirProps:s,slot:o,defaultTag:tt,name:"Tabs.List"})}let at="button";function rt(e,t){var a,n;let i=r.useId(),{id:o=`headlessui-tabs-tab-${i}`,disabled:s=!1,autoFocus:u=!1,...P}=e,{orientation:I,activation:c,selectedIndex:h,tabs:N,panels:m}=O("Tab"),d=ie("Tab"),j=O("Tab"),[_,L]=r.useState(null),x=r.useRef(null),E=K(x,t,L);re(()=>d.registerTab(x),[d,x]);let R=Ee("tabs"),g=N.indexOf(x);g===-1&&(g=R);let y=g===h,$=F(p=>{var k;let Y=p();if(Y===Z.Success&&c==="auto"){let Re=(k=Be(x))==null?void 0:k.activeElement,ce=j.tabs.findIndex(je=>je.current===Re);ce!==-1&&d.change(ce)}return Y}),B=F(p=>{let k=N.map(Y=>Y.current).filter(Boolean);if(p.key===M.Space||p.key===M.Enter){p.preventDefault(),p.stopPropagation(),d.change(g);return}switch(p.key){case M.Home:case M.PageUp:return p.preventDefault(),p.stopPropagation(),$(()=>A(k,w.First));case M.End:case M.PageDown:return p.preventDefault(),p.stopPropagation(),$(()=>A(k,w.Last))}if($(()=>W(I,{vertical(){return p.key===M.ArrowUp?A(k,w.Previous|w.WrapAround):p.key===M.ArrowDown?A(k,w.Next|w.WrapAround):Z.Error},horizontal(){return p.key===M.ArrowLeft?A(k,w.Previous|w.WrapAround):p.key===M.ArrowRight?A(k,w.Next|w.WrapAround):Z.Error}}))===Z.Success)return p.preventDefault()}),T=r.useRef(!1),l=F(()=>{var p;T.current||(T.current=!0,(p=x.current)==null||p.focus({preventScroll:!0}),d.change(g),Oe(()=>{T.current=!1}))}),b=F(p=>{p.preventDefault()}),{isFocusVisible:v,focusProps:H}=Te({autoFocus:u}),{isHovered:z,hoverProps:Me}=De({isDisabled:s}),{pressed:ue,pressProps:$e}=Ae({disabled:s}),ke=r.useMemo(()=>({selected:y,hover:z,active:ue,focus:v,autofocus:u,disabled:s}),[y,z,v,ue,u,s]),_e=Ie({ref:E,onKeyDown:B,onMouseDown:b,onClick:l,id:o,role:"tab",type:qe(e,_),"aria-controls":(n=(a=m[g])==null?void 0:a.current)==null?void 0:n.id,"aria-selected":y,tabIndex:y?0:-1,disabled:s||void 0,autoFocus:u},H,Me,$e);return X()({ourProps:_e,theirProps:P,slot:ke,defaultTag:at,name:"Tabs.Tab"})}let st="div";function lt(e,t){let{selectedIndex:a}=O("Tab.Panels"),n=K(t),i=r.useMemo(()=>({selectedIndex:a}),[a]),o=e,s={ref:n};return X()({ourProps:s,theirProps:o,slot:i,defaultTag:st,name:"Tabs.Panels"})}let ot="div",it=de.RenderStrategy|de.Static;function ut(e,t){var a,n,i,o;let s=r.useId(),{id:u=`headlessui-tabs-panel-${s}`,tabIndex:P=0,...I}=e,{selectedIndex:c,tabs:h,panels:N}=O("Tab.Panel"),m=ie("Tab.Panel"),d=r.useRef(null),j=K(d,t);re(()=>m.registerPanel(d),[m,d]);let _=Ee("panels"),L=N.indexOf(d);L===-1&&(L=_);let x=L===c,{isFocusVisible:E,focusProps:R}=Te(),g=r.useMemo(()=>({selected:x,focus:E}),[x,E]),y=Ie({ref:j,id:u,role:"tabpanel","aria-labelledby":(n=(a=h[L])==null?void 0:a.current)==null?void 0:n.id,tabIndex:x?P:-1},R),$=X();return!x&&((i=I.unmount)==null||i)&&!((o=I.static)!=null&&o)?q.createElement(Pe,{"aria-hidden":"true",...y}):$({ourProps:y,theirProps:I,slot:g,defaultTag:ot,features:it,visible:x,name:"Tabs.Panel"})}let ct=J(rt),Se=J(et),Le=J(nt),Ce=J(lt),we=J(ut),dt=Object.assign(ct,{Group:Se,List:Le,Panels:Ce,Panel:we});const ee=(e,t)=>Math.max(0,Math.min(e,t-1)),G=({selectedIndex:e,defaultSelectedIndex:t,onChange:a,tabActiveIndicatorProps:n,tabActiveIndicatorType:i="underline",renderIndicator:o=!0,numberOfTabs:s,renderWholeTab:u,renderTab:P,renderTabPanel:I,tabGroupProps:c,getTabPanelProps:h,getTabProps:N,tabListProps:m,tabPanelsProps:d,ref:j})=>{const _=r.useRef(null),[L,x]=r.useState({left:0,width:0}),[E,R]=r.useState(ee(e??t??0,s)),g=r.useCallback(T=>{const l=_.current;if(l&&o){const b=l.children[T+1],{left:v,width:H}=b.getBoundingClientRect(),{left:z}=l.getBoundingClientRect();x({left:v-z,width:H})}},[o]);r.useEffect(()=>{g(ee(e??t??0,s))},[g,e,t,s]),r.useEffect(()=>{if(e!=null){const T=ee(e,s);R(T),g(T)}},[e,s,g]);const y=r.useMemo(()=>Array.from(Array(s)),[s]),$=r.useMemo(()=>y.map((T,l)=>{var v;const b=l===E;return(u==null?void 0:u(l,b))??r.createElement(dt,{...N==null?void 0:N(l,b),as:"button",key:l,className:D("tab-group__tab",`tab-group__tab--${i}`,{"tab-group__tab--selected":b},(v=N==null?void 0:N(l,b))==null?void 0:v.className)},({selected:H})=>(P==null?void 0:P(l,H))??f.jsx("div",{children:l}))}),[E,y,i,N,P,u]),B=r.useMemo(()=>y.map((T,l)=>{const b=l===E,v=h==null?void 0:h(l,b);return r.createElement(we,{...v,key:l,className:D("tab-group__tab-panel",{"tab-group__tab-panel--selected":b},v==null?void 0:v.className)},I(l,b))}),[y,E,h,I]);return f.jsxs(Se,{as:"div",...c,className:D(`${Fe}-tab-group`,c==null?void 0:c.className),ref:j,selectedIndex:e,onChange:T=>{e==null&&(g(T),R(ee(T,s))),a==null||a(T)},children:[f.jsxs(Le,{...m,as:"div",ref:_,className:D("tab-group__tab-list",m==null?void 0:m.className),children:[o&&f.jsx("div",{...n,className:D("tab-group__tab-active-indicator",`tab-group__tab-active-indicator--${i}`,n==null?void 0:n.className),style:L}),$]}),f.jsx(Ce,{...d,className:D("tab-group__tab-panels",d==null?void 0:d.className),children:B})]})};try{G.displayName="TabGroup",G.__docgenInfo={description:"",displayName:"TabGroup",props:{selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},defaultSelectedIndex:{defaultValue:null,description:"",name:"defaultSelectedIndex",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((index: number) => void)"}},tabActiveIndicatorProps:{defaultValue:null,description:"",name:"tabActiveIndicatorProps",required:!1,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},tabActiveIndicatorType:{defaultValue:{value:"underline"},description:"",name:"tabActiveIndicatorType",required:!1,type:{name:"enum",value:[{value:'"pill"'},{value:'"underline"'},{value:'"custom"'}]}},renderIndicator:{defaultValue:{value:"true"},description:"",name:"renderIndicator",required:!1,type:{name:"boolean"}},numberOfTabs:{defaultValue:null,description:"",name:"numberOfTabs",required:!0,type:{name:"number"}},renderWholeTab:{defaultValue:null,description:"Render the entire tab and have total control over accessibility",name:"renderWholeTab",required:!1,type:{name:"((index: number, selected: boolean) => ReactElement<unknown, string | JSXElementConstructor<any>>)"}},renderTab:{defaultValue:null,description:"",name:"renderTab",required:!1,type:{name:"((index: number, selected: boolean) => ReactElement<unknown, string | JSXElementConstructor<any>>)"}},getTabProps:{defaultValue:null,description:"",name:"getTabProps",required:!1,type:{name:'((index: number, selected: boolean) => CleanProps<ElementType, "disabled" | "autoFocus" | TabPropsWeControl> & OurProps<ElementType, TabRenderPropArg> & { ...; } & { ...; } & { ...; })'}},renderTabPanel:{defaultValue:null,description:"",name:"renderTabPanel",required:!0,type:{name:"(index: number, selected: boolean) => ReactElement<unknown, string | JSXElementConstructor<any>>"}},getTabPanelProps:{defaultValue:null,description:"",name:"getTabPanelProps",required:!1,type:{name:'((index: number, selected: boolean) => CleanProps<ElementType, "id" | "tabIndex" | "static" | "unmount" | PanelPropsWeControl> & ... 4 more ... & { ...; })'}},tabGroupProps:{defaultValue:null,description:"",name:"tabGroupProps",required:!1,type:{name:'(CleanProps<ElementType, "disabled" | "autoFocus" | TabPropsWeControl> & OurProps<ElementType, TabRenderPropArg> & { ...; } & { ...; } & { ...; })'}},tabListProps:{defaultValue:null,description:"",name:"tabListProps",required:!1,type:{name:"(CleanProps<ElementType, ListPropsWeControl> & OurProps<ElementType, ListRenderPropArg> & { ...; } & { ...; })"}},tabPanelsProps:{defaultValue:null,description:"",name:"tabPanelsProps",required:!1,type:{name:"(CleanProps<ElementType, never> & OurProps<ElementType, PanelsRenderPropArg> & { className?: any; } & { ...; })"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}const Lt={title:"Components/Tab Group",component:G,argTypes:{getTabPanelProps:C,getTabProps:C,tabGroupProps:C,tabListProps:C,tabPanelsProps:C,renderTab:C,renderTabPanel:C,numberOfTabs:C,tabActiveIndicatorProps:C,onChange:C},parameters:{controls:{expanded:!0}}},S=[{icon:["fas","dog"],title:"Dog list"},{icon:["fas","cat"],title:"Cat list"},{icon:["fas","heart"],title:"Favorite list"}],V=[{text:"Dog content"},{text:"Cat content"},{text:"Favorite content"}],pt=e=>f.jsx(G,{...e,tabGroupProps:{className:"text-skin-base ml-16"},numberOfTabs:Math.min(S.length,V.length),renderTab:t=>f.jsxs("div",{className:"flex",children:[f.jsx(se,{icon:S[t].icon,className:"fa-fw mr-2"}),S[t].title]}),getTabProps:()=>({className:"px-4"}),renderTabPanel:t=>f.jsx("div",{children:V[t].text})}),te=pt.bind({}),ne=e=>f.jsx(G,{...e,tabGroupProps:{className:"text-skin-base ml-16 bg-skin-top rounded-md"},tabListProps:{className:"flex"},numberOfTabs:Math.min(S.length,V.length),renderTab:t=>f.jsxs("div",{className:"flex w-full justify-center",children:[f.jsx(se,{icon:S[t].icon,className:"fa-fw mr-2"}),S[t].title]}),getTabProps:()=>({className:"px-4 flex-grow"}),renderTabPanel:t=>f.jsx("div",{className:"px-16 py-4",children:V[t].text})}),mt=(e,t)=>Math.max(0,Math.min(e,t-1)),ae=e=>{const[t,a]=r.useState(e.defaultSelectedIndex??0);return r.useEffect(()=>{a(mt(e.defaultSelectedIndex??0,S.length))},[e.selectedIndex,e.defaultSelectedIndex]),f.jsxs(f.Fragment,{children:[f.jsx(He,{className:"mb-8",onClick:()=>a((t+1)%S.length),children:"Next index"}),f.jsx(G,{...e,selectedIndex:t,onChange:a,tabGroupProps:{className:"text-skin-base bg-skin-top rounded-md"},tabListProps:{className:"flex"},numberOfTabs:Math.min(S.length,V.length),renderTab:n=>f.jsxs("div",{className:"flex w-full justify-center",children:[f.jsx(se,{icon:S[n].icon,className:"fa-fw mr-2"}),S[n].title]}),getTabProps:()=>({className:"px-4 flex-grow"}),renderTabPanel:n=>f.jsx("div",{className:"px-16 py-4",children:V[n].text})})]})};var pe,me,fe;te.parameters={...te.parameters,docs:{...(pe=te.parameters)==null?void 0:pe.docs,source:{originalSource:`args => <TabGroup {...args} tabGroupProps={{
  className: "text-skin-base ml-16"
}} numberOfTabs={Math.min(panelList.length, contentList.length)} renderTab={index => <div className="flex">\r
        <Icon icon={panelList[index].icon} className="fa-fw mr-2" />\r
        {panelList[index].title}\r
      </div>} getTabProps={() => ({
  className: "px-4"
})} renderTabPanel={index => <div>{contentList[index].text}</div>} />`,...(fe=(me=te.parameters)==null?void 0:me.docs)==null?void 0:fe.source}}};var be,xe,ge;ne.parameters={...ne.parameters,docs:{...(be=ne.parameters)==null?void 0:be.docs,source:{originalSource:`args => <TabGroup {...args} tabGroupProps={{
  className: "text-skin-base ml-16 bg-skin-top rounded-md"
}} tabListProps={{
  className: "flex"
}} numberOfTabs={Math.min(panelList.length, contentList.length)} renderTab={index => <div className="flex w-full justify-center">\r
        <Icon icon={panelList[index].icon} className="fa-fw mr-2" />\r
        {panelList[index].title}\r
      </div>} getTabProps={() => ({
  className: "px-4 flex-grow"
})} renderTabPanel={index => <div className="px-16 py-4">{contentList[index].text}</div>} />`,...(ge=(xe=ne.parameters)==null?void 0:xe.docs)==null?void 0:ge.source}}};var ve,he,ye;ae.parameters={...ae.parameters,docs:{...(ve=ae.parameters)==null?void 0:ve.docs,source:{originalSource:`args => {
  const [selectedIndex, setSelectedIndex] = useState(args.defaultSelectedIndex ?? 0);
  useEffect(() => {
    setSelectedIndex(getIndex(args.defaultSelectedIndex ?? 0, panelList.length));
  }, [args.selectedIndex, args.defaultSelectedIndex]);
  return <>\r
      <Button className="mb-8" onClick={() => setSelectedIndex((selectedIndex + 1) % panelList.length)}>\r
        Next index\r
      </Button>\r
\r
      <TabGroup {...args} selectedIndex={selectedIndex} onChange={setSelectedIndex} tabGroupProps={{
      className: "text-skin-base bg-skin-top rounded-md"
    }} tabListProps={{
      className: "flex"
    }} numberOfTabs={Math.min(panelList.length, contentList.length)} renderTab={index => <div className="flex w-full justify-center">\r
            <Icon icon={panelList[index].icon} className="fa-fw mr-2" />\r
            {panelList[index].title}\r
          </div>} getTabProps={() => ({
      className: "px-4 flex-grow"
    })} renderTabPanel={index => <div className="px-16 py-4">{contentList[index].text}</div>} />\r
    </>;
}`,...(ye=(he=ae.parameters)==null?void 0:he.docs)==null?void 0:ye.source}}};const Ct=["Default","FullyStyled","ControlledIndex"];export{ae as ControlledIndex,te as Default,ne as FullyStyled,Ct as __namedExportsOrder,Lt as default};
