import{j as ne}from"./jsx-runtime-Cw0GR0a5.js";import{r as o,R as j,a as Je}from"./index-CTjT7uj6.js";import{e as Qe,N as Ze,E as et,n as _e,y as tt,s as D,t as nt}from"./use-root-containers-CbuclWc0.js";import{q as Ie}from"./transition-BVEjyM41.js";import{r as rt}from"./index-9r8iugjR.js";import{a as Te,c as ot,b as at,o as st,f as ut,s as lt,d as it,h as ct}from"./floating-ui.dom-BHn9GYQn.js";import{c as fe,C as re}from"./index-BPE7S6ci.js";import{O as ue,U as ee,y as V,T as ft,c as Fe,a as N,u as U,C as te,I as pt,l as dt}from"./render-C-IlGZgy.js";import{I as z,o as L}from"./keyboard-BCuVGIMY.js";import{n as ye,y as mt}from"./use-owner-DSOmOYVQ.js";import{T as vt}from"./use-resolve-button-type-CoZBuHh8.js";import{u as me,s as ve}from"./hidden-BS2yFtF9.js";import{s as ht,d as X,u as Be}from"./open-closed-CcTP-TJU.js";import{r as De}from"./bugs-DpEN4NTH.js";import{f as ge,O as H,M as A,h as yt,T as gt,o as bt,N as he}from"./focus-management-CaV_VYtM.js";import{B as Et}from"./Button-3zomcV1U.js";var wt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(wt||{}),xt=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(xt||{});let Pt={0:e=>{let t={...e,popoverState:U(e.popoverState,{0:1,1:0})};return t.popoverState===0&&(t.__demoMode=!1),t},1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},be=o.createContext(null);be.displayName="PopoverContext";function ie(e){let t=o.useContext(be);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ie),r}return t}let Ee=o.createContext(null);Ee.displayName="PopoverAPIContext";function we(e){let t=o.useContext(Ee);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,we),r}return t}let xe=o.createContext(null);xe.displayName="PopoverGroupContext";function Ae(){return o.useContext(xe)}let ce=o.createContext(null);ce.displayName="PopoverPanelContext";function St(){return o.useContext(ce)}function Ct(e,t){return U(t.type,Pt,e,t)}let $t="div";function Rt(e,t){var r;let{__demoMode:n=!1,...a}=e,u=o.useRef(null),s=V(t,ft(w=>{u.current=w})),f=o.useRef([]),p=o.useReducer(Ct,{__demoMode:n,popoverState:n?0:1,buttons:f,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:o.createRef(),afterPanelSentinel:o.createRef()}),[{popoverState:m,button:l,buttonId:i,panel:c,panelId:v,beforePanelSentinel:x,afterPanelSentinel:b},d]=p,h=ye((r=u.current)!=null?r:l),C=o.useMemo(()=>{if(!l||!c)return!1;for(let Y of document.querySelectorAll("body > *"))if(Number(Y==null?void 0:Y.contains(l))^Number(Y==null?void 0:Y.contains(c)))return!0;let w=ge(),_=w.indexOf(l),K=(_+w.length-1)%w.length,q=(_+1)%w.length,J=w[K],Re=w[q];return!c.contains(J)&&!c.contains(Re)},[l,c]),F=Fe(i),E=Fe(v),R=o.useMemo(()=>({buttonId:F,panelId:E,close:()=>d({type:1})}),[F,E,d]),I=Ae(),M=I==null?void 0:I.registerPopover,S=N(()=>{var w;return(w=I==null?void 0:I.isFocusWithinPopoverGroup())!=null?w:(h==null?void 0:h.activeElement)&&((l==null?void 0:l.contains(h.activeElement))||(c==null?void 0:c.contains(h.activeElement)))});o.useEffect(()=>M==null?void 0:M(R),[M,R]);let[T,g]=Qe(),y=Ze({mainTreeNodeRef:I==null?void 0:I.mainTreeNodeRef,portals:T,defaultContainers:[l,c]});et(h==null?void 0:h.defaultView,"focus",w=>{var _,K,q,J;w.target!==window&&w.target instanceof HTMLElement&&m===0&&(S()||l&&c&&(y.contains(w.target)||(K=(_=x.current)==null?void 0:_.contains)!=null&&K.call(_,w.target)||(J=(q=b.current)==null?void 0:q.contains)!=null&&J.call(q,w.target)||d({type:1})))},!0),mt(y.resolveContainers,(w,_)=>{d({type:1}),yt(_,gt.Loose)||(w.preventDefault(),l==null||l.focus())},m===0);let $=N(w=>{d({type:1});let _=w?w instanceof HTMLElement?w:"current"in w&&w.current instanceof HTMLElement?w.current:l:l;_==null||_.focus()}),k=o.useMemo(()=>({close:$,isPortalled:C}),[$,C]),O=o.useMemo(()=>({open:m===0,close:$}),[m,$]),W={ref:s};return j.createElement(ce.Provider,{value:null},j.createElement(be.Provider,{value:p},j.createElement(Ee.Provider,{value:k},j.createElement(ht,{value:U(m,{0:X.Open,1:X.Closed})},j.createElement(g,null,te({ourProps:W,theirProps:a,slot:O,defaultTag:$t,name:"Popover"}),j.createElement(y.MainTreeNode,null))))))}let It="button";function Tt(e,t){let r=z(),{id:n=`headlessui-popover-button-${r}`,...a}=e,[u,s]=ie("Popover.Button"),{isPortalled:f}=we("Popover.Button"),p=o.useRef(null),m=`headlessui-focus-sentinel-${z()}`,l=Ae(),i=l==null?void 0:l.closeOthers,c=St()!==null;o.useEffect(()=>{if(!c)return s({type:3,buttonId:n}),()=>{s({type:3,buttonId:null})}},[c,n,s]);let[v]=o.useState(()=>Symbol()),x=V(p,t,c?null:y=>{if(y)u.buttons.current.push(v);else{let $=u.buttons.current.indexOf(v);$!==-1&&u.buttons.current.splice($,1)}u.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),y&&s({type:2,button:y})}),b=V(p,t),d=ye(p),h=N(y=>{var $,k,O;if(c){if(u.popoverState===1)return;switch(y.key){case L.Space:case L.Enter:y.preventDefault(),(k=($=y.target).click)==null||k.call($),s({type:1}),(O=u.button)==null||O.focus();break}}else switch(y.key){case L.Space:case L.Enter:y.preventDefault(),y.stopPropagation(),u.popoverState===1&&(i==null||i(u.buttonId)),s({type:0});break;case L.Escape:if(u.popoverState!==0)return i==null?void 0:i(u.buttonId);if(!p.current||d!=null&&d.activeElement&&!p.current.contains(d.activeElement))return;y.preventDefault(),y.stopPropagation(),s({type:1});break}}),C=N(y=>{c||y.key===L.Space&&y.preventDefault()}),F=N(y=>{var $,k;De(y.currentTarget)||e.disabled||(c?(s({type:1}),($=u.button)==null||$.focus()):(y.preventDefault(),y.stopPropagation(),u.popoverState===1&&(i==null||i(u.buttonId)),s({type:0}),(k=u.button)==null||k.focus()))}),E=N(y=>{y.preventDefault(),y.stopPropagation()}),R=u.popoverState===0,I=o.useMemo(()=>({open:R}),[R]),M=vt(e,p),S=c?{ref:b,type:M,onKeyDown:h,onClick:F}:{ref:x,id:u.buttonId,type:M,"aria-expanded":u.popoverState===0,"aria-controls":u.panel?u.panelId:void 0,onKeyDown:h,onKeyUp:C,onClick:F,onMouseDown:E},T=_e(),g=N(()=>{let y=u.panel;if(!y)return;function $(){U(T.current,{[D.Forwards]:()=>H(y,A.First),[D.Backwards]:()=>H(y,A.Last)})===he.Error&&H(ge().filter(k=>k.dataset.headlessuiFocusGuard!=="true"),U(T.current,{[D.Forwards]:A.Next,[D.Backwards]:A.Previous}),{relativeTo:u.button})}$()});return j.createElement(j.Fragment,null,te({ourProps:S,theirProps:a,slot:I,defaultTag:It,name:"Popover.Button"}),R&&!c&&f&&j.createElement(me,{id:m,features:ve.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:g}))}let Ft="div",jt=ue.RenderStrategy|ue.Static;function Ot(e,t){let r=z(),{id:n=`headlessui-popover-overlay-${r}`,...a}=e,[{popoverState:u},s]=ie("Popover.Overlay"),f=V(t),p=Be(),m=p!==null?(p&X.Open)===X.Open:u===0,l=N(c=>{if(De(c.currentTarget))return c.preventDefault();s({type:1})}),i=o.useMemo(()=>({open:u===0}),[u]);return te({ourProps:{ref:f,id:n,"aria-hidden":!0,onClick:l},theirProps:a,slot:i,defaultTag:Ft,features:jt,visible:m,name:"Popover.Overlay"})}let Mt="div",kt=ue.RenderStrategy|ue.Static;function Nt(e,t){let r=z(),{id:n=`headlessui-popover-panel-${r}`,focus:a=!1,...u}=e,[s,f]=ie("Popover.Panel"),{close:p,isPortalled:m}=we("Popover.Panel"),l=`headlessui-focus-sentinel-before-${z()}`,i=`headlessui-focus-sentinel-after-${z()}`,c=o.useRef(null),v=V(c,t,S=>{f({type:4,panel:S})}),x=ye(c),b=pt();dt(()=>(f({type:5,panelId:n}),()=>{f({type:5,panelId:null})}),[n,f]);let d=Be(),h=d!==null?(d&X.Open)===X.Open:s.popoverState===0,C=N(S=>{var T;switch(S.key){case L.Escape:if(s.popoverState!==0||!c.current||x!=null&&x.activeElement&&!c.current.contains(x.activeElement))return;S.preventDefault(),S.stopPropagation(),f({type:1}),(T=s.button)==null||T.focus();break}});o.useEffect(()=>{var S;e.static||s.popoverState===1&&((S=e.unmount)==null||S)&&f({type:4,panel:null})},[s.popoverState,e.unmount,e.static,f]),o.useEffect(()=>{if(s.__demoMode||!a||s.popoverState!==0||!c.current)return;let S=x==null?void 0:x.activeElement;c.current.contains(S)||H(c.current,A.First)},[s.__demoMode,a,c,s.popoverState]);let F=o.useMemo(()=>({open:s.popoverState===0,close:p}),[s,p]),E={ref:v,id:n,onKeyDown:C,onBlur:a&&s.popoverState===0?S=>{var T,g,y,$,k;let O=S.relatedTarget;O&&c.current&&((T=c.current)!=null&&T.contains(O)||(f({type:1}),((y=(g=s.beforePanelSentinel.current)==null?void 0:g.contains)!=null&&y.call(g,O)||(k=($=s.afterPanelSentinel.current)==null?void 0:$.contains)!=null&&k.call($,O))&&O.focus({preventScroll:!0})))}:void 0,tabIndex:-1},R=_e(),I=N(()=>{let S=c.current;if(!S)return;function T(){U(R.current,{[D.Forwards]:()=>{var g;H(S,A.First)===he.Error&&((g=s.afterPanelSentinel.current)==null||g.focus())},[D.Backwards]:()=>{var g;(g=s.button)==null||g.focus({preventScroll:!0})}})}T()}),M=N(()=>{let S=c.current;if(!S)return;function T(){U(R.current,{[D.Forwards]:()=>{var g;if(!s.button)return;let y=ge(),$=y.indexOf(s.button),k=y.slice(0,$+1),O=[...y.slice($+1),...k];for(let W of O.slice())if(W.dataset.headlessuiFocusGuard==="true"||(g=s.panel)!=null&&g.contains(W)){let w=O.indexOf(W);w!==-1&&O.splice(w,1)}H(O,A.First,{sorted:!1})},[D.Backwards]:()=>{var g;H(S,A.Previous)===he.Error&&((g=s.button)==null||g.focus())}})}T()});return j.createElement(ce.Provider,{value:n},h&&m&&j.createElement(me,{id:l,ref:s.beforePanelSentinel,features:ve.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:I}),te({mergeRefs:b,ourProps:E,theirProps:u,slot:F,defaultTag:Mt,features:kt,visible:h,name:"Popover.Panel"}),h&&m&&j.createElement(me,{id:i,ref:s.afterPanelSentinel,features:ve.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:M}))}let _t="div";function Bt(e,t){let r=o.useRef(null),n=V(r,t),[a,u]=o.useState([]),s=tt(),f=N(b=>{u(d=>{let h=d.indexOf(b);if(h!==-1){let C=d.slice();return C.splice(h,1),C}return d})}),p=N(b=>(u(d=>[...d,b]),()=>f(b))),m=N(()=>{var b;let d=bt(r);if(!d)return!1;let h=d.activeElement;return(b=r.current)!=null&&b.contains(h)?!0:a.some(C=>{var F,E;return((F=d.getElementById(C.buttonId.current))==null?void 0:F.contains(h))||((E=d.getElementById(C.panelId.current))==null?void 0:E.contains(h))})}),l=N(b=>{for(let d of a)d.buttonId.current!==b&&d.close()}),i=o.useMemo(()=>({registerPopover:p,unregisterPopover:f,isFocusWithinPopoverGroup:m,closeOthers:l,mainTreeNodeRef:s.mainTreeNodeRef}),[p,f,m,l,s.mainTreeNodeRef]),c=o.useMemo(()=>({}),[]),v=e,x={ref:n};return j.createElement(xe.Provider,{value:i},te({ourProps:x,theirProps:v,slot:c,defaultTag:_t,name:"Popover.Group"}),j.createElement(s.MainTreeNode,null))}let Dt=ee(Rt),At=ee(Tt),Lt=ee(Ot),Ht=ee(Nt),Ut=ee(Bt),pe=Object.assign(Dt,{Button:At,Overlay:Lt,Panel:Ht,Group:Ut});const Wt=e=>{const{element:t,padding:r}=e;function n(a){return Object.prototype.hasOwnProperty.call(a,"current")}return{name:"arrow",options:e,fn(a){return n(t)?t.current!=null?Te({element:t.current,padding:r}).fn(a):{}:t?Te({element:t,padding:r}).fn(a):{}}}};var se=typeof document<"u"?o.useLayoutEffect:o.useEffect;function le(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!le(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const u=a[n];if(!(u==="_owner"&&e.$$typeof)&&!le(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function je(e){const t=o.useRef(e);return se(()=>{t.current=e}),t}function qt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,whileElementsMounted:u,open:s}=e,[f,p]=o.useState({x:null,y:null,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,l]=o.useState(n);le(m,n)||l(n);const i=o.useRef(null),c=o.useRef(null),v=o.useRef(f),x=je(u),b=je(a),[d,h]=o.useState(null),[C,F]=o.useState(null),E=o.useCallback(g=>{i.current!==g&&(i.current=g,h(g))},[]),R=o.useCallback(g=>{c.current!==g&&(c.current=g,F(g))},[]),I=o.useCallback(()=>{if(!i.current||!c.current)return;const g={placement:t,strategy:r,middleware:m};b.current&&(g.platform=b.current),ot(i.current,c.current,g).then(y=>{const $={...y,isPositioned:!0};M.current&&!le(v.current,$)&&(v.current=$,rt.flushSync(()=>{p($)}))})},[m,t,r,b]);se(()=>{s===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,p(g=>({...g,isPositioned:!1})))},[s]);const M=o.useRef(!1);se(()=>(M.current=!0,()=>{M.current=!1}),[]),se(()=>{if(d&&C){if(x.current)return x.current(d,C,I);I()}},[d,C,I,x]);const S=o.useMemo(()=>({reference:i,floating:c,setReference:E,setFloating:R}),[E,R]),T=o.useMemo(()=>({reference:d,floating:C}),[d,C]);return o.useMemo(()=>({...f,update:I,refs:S,elements:T,reference:E,floating:R}),[f,I,S,T,E,R])}var Yt=typeof document<"u"?o.useLayoutEffect:o.useEffect;function zt(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){e.set(t,(e.get(t)||[]).filter(n=>n!==r))}}}const Vt=o.createContext(null),Xt=()=>o.useContext(Vt);function Gt(e){return(e==null?void 0:e.ownerDocument)||document}function Kt(e){return Gt(e).defaultView||window}function oe(e){return e?e instanceof Kt(e).Element:!1}const Jt=Je.useInsertionEffect,Qt=Jt||(e=>e());function Zt(e){const t=o.useRef(()=>{});return Qt(()=>{t.current=e}),o.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function en(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:r,nodeId:n}=e,a=qt(e),u=Xt(),s=o.useRef(null),f=o.useRef({}),p=o.useState(()=>zt())[0],[m,l]=o.useState(null),i=o.useCallback(h=>{const C=oe(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;a.refs.setReference(C)},[a.refs]),c=o.useCallback(h=>{(oe(h)||h===null)&&(s.current=h,l(h)),(oe(a.refs.reference.current)||a.refs.reference.current===null||h!==null&&!oe(h))&&a.refs.setReference(h)},[a.refs]),v=o.useMemo(()=>({...a.refs,setReference:c,setPositionReference:i,domReference:s}),[a.refs,c,i]),x=o.useMemo(()=>({...a.elements,domReference:m}),[a.elements,m]),b=Zt(r),d=o.useMemo(()=>({...a,refs:v,elements:x,dataRef:f,nodeId:n,events:p,open:t,onOpenChange:b}),[a,n,p,t,b,v,x]);return Yt(()=>{const h=u==null?void 0:u.nodesRef.current.find(C=>C.id===n);h&&(h.context=d)}),o.useMemo(()=>({...a,context:d,refs:v,reference:c,positionReference:i}),[a,v,d,c,i])}var tn=Object.defineProperty,nn=(e,t,r)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oe=(e,t,r)=>(nn(e,typeof t!="symbol"?t+"":t,r),r),Le={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me;function rn(){if(Me)return Q;Me=1;var e=j,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function s(f,p,m){var l,i={},c=null,v=null;m!==void 0&&(c=""+m),p.key!==void 0&&(c=""+p.key),p.ref!==void 0&&(v=p.ref);for(l in p)n.call(p,l)&&!u.hasOwnProperty(l)&&(i[l]=p[l]);if(f&&f.defaultProps)for(l in p=f.defaultProps,p)i[l]===void 0&&(i[l]=p[l]);return{$$typeof:t,type:f,key:c,ref:v,props:i,_owner:a.current}}return Q.Fragment=r,Q.jsx=s,Q.jsxs=s,Q}Le.exports=rn();var P=Le.exports;class on{constructor(){Oe(this,"current",this.detect()),Oe(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}const G=new on,He=(e,t)=>{G.isServer?o.useEffect(e,t):o.useLayoutEffect(e,t)},de={serverHandoffComplete:!1};function an(){const[e,t]=o.useState(de.serverHandoffComplete);return o.useEffect(()=>{e!==!0&&t(!0)},[e]),o.useEffect(()=>{de.serverHandoffComplete===!1&&(de.serverHandoffComplete=!0)},[]),e}const sn=j.useId??function(){const e=an(),[t,r]=j.useState(e?()=>G.nextId():null);return He(()=>{t===null&&r(G.nextId())},[t]),t!=null?`${t}`:void 0};function un(e,t,r,n){o.useEffect(()=>{const a=[];(typeof n.offset=="number"||typeof n.offset=="object"||typeof n.offset=="function")&&a.push(st(n.offset)),(n.flip===!0||typeof n.flip=="number"||typeof n.flip=="object")&&a.push(ut({padding:typeof n.flip=="number"?n.flip:void 0,...typeof n.flip=="object"?n.flip:{}})),(n.shift===!0||typeof n.shift=="number"||typeof n.shift=="object")&&a.push(lt({padding:typeof n.shift=="number"?n.shift:void 0,...typeof n.shift=="object"?n.shift:{}})),(n.autoPlacement===!0||typeof n.autoPlacement=="object")&&a.push(it(typeof n.autoPlacement=="object"?n.autoPlacement:void 0)),(n.arrow===!0||typeof n.arrow=="number")&&a.push(Wt({element:r,padding:n.arrow===!0?0:n.arrow})),a.push(...typeof n.middleware=="function"?n.middleware({referenceEl:t.reference,floatingEl:t.floating}):n.middleware||[]),(n.hide===!0||typeof n.hide=="object")&&a.push(ct(typeof n.hide=="object"?n.hide:void 0)),e(a)},[n.offset,n.shift,n.flip,n.arrow,n.autoPlacement,n.hide,n.middleware])}function ln(e,t,r){o.useEffect(()=>{if(e&&G.isClient&&typeof ResizeObserver<"u"&&t.current&&t.current instanceof Element){const n=new ResizeObserver(([a])=>{const u=a.borderBoxSize.reduce((s,{inlineSize:f})=>s+f,0);r(u)});return n.observe(t.current),()=>{n.disconnect(),r(null)}}},[])}const cn=e=>{switch(e){case"top":return"origin-bottom";case"bottom":return"origin-top";case"left":return"origin-right";case"right":return"origin-left";case"top-start":case"right-end":return"origin-bottom-left";case"top-end":case"left-end":return"origin-bottom-right";case"right-start":case"bottom-start":return"origin-top-left";case"left-start":case"bottom-end":return"origin-top-right";default:return""}};function fn(e,t){return o.useMemo(()=>typeof e.originClass=="function"?e.originClass(t):typeof e.originClass=="string"?e.originClass:e.tailwindcssOriginClass?cn(t):"",[t,e.originClass,e.tailwindcssOriginClass])}function Ue(e,t,...r){if(e in t){const a=t[e];return typeof a=="function"?a(...r):a}const n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ue),n}function We(e){return G.isServer?null:e instanceof Node?e.ownerDocument:e&&Object.prototype.hasOwnProperty.call(e,"current")&&e.current instanceof Node?e.current.ownerDocument:document}const ke=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var qe=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(qe||{});function pn(e,t=0){var r;return e===((r=We(e))==null?void 0:r.body)?!1:Ue(t,{0(){return e.matches(ke)},1(){let n=e;for(;n!==null;){if(n.matches(ke))return!0;n=n.parentElement}return!1}})}function dn(e){const t=o.useRef(e);return He(()=>{t.current=e},[e]),t}function B(e,t,r){const n=dn(t);o.useEffect(()=>{function a(u){n.current(u)}return document.addEventListener(e,a,r),()=>document.removeEventListener(e,a,r)},[e,r])}function mn(e,t,r=!0){const n=o.useRef(!1);o.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(s,f){if(!n.current||s.defaultPrevented)return;const p=function l(i){return typeof i=="function"?l(i()):Array.isArray(i)||i instanceof Set?i:[i]}(e),m=f(s);if(m!==null&&m.getRootNode().contains(m)){for(const l of p){if(l===null)continue;const i=l instanceof HTMLElement?l:l.current;if(i!=null&&i.contains(m)||s.composed&&s.composedPath().includes(i))return}return!pn(m,qe.Loose)&&m.tabIndex!==-1&&s.preventDefault(),t(s,m)}}const u=o.useRef(null);B("mousedown",s=>{var f,p;n.current&&(u.current=((p=(f=s.composedPath)==null?void 0:f.call(s))==null?void 0:p[0])||s.target)},!0),B("click",s=>{u.current&&(a(s,()=>u.current),u.current=null)},!0),B("blur",s=>a(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}const ae=new Map,Pe=o.createContext(null);Pe.displayName="ReferenceContext";const Se=o.createContext(null);Se.displayName="FloatingContext";const Z=o.createContext(null);Z.displayName="ArrowContext";function Ye(e){const t=o.useContext(Pe);if(t===null){const r=new Error(`<${e} /> is missing a parent <Float /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ye),r}return t}function ze(e){const t=o.useContext(Se);if(t===null){const r=new Error(`<${e} /> is missing a parent <Float /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ze),r}return t}function Ve(e){const t=o.useContext(Z);if(t===null){const r=new Error(`<${e} /> is missing a parent <Float /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ve),r}return t}function Xe(e,t,r,n){const{referenceRef:a}=n,u=t;if(u.as===o.Fragment)return P.jsx(e.type,{...e.props,...r,ref:a});const s=u.as||"div";return P.jsx(s,{...r,ref:a,children:P.jsx(e.type,{...e.props})})}function Ce(e,t,r,n){const{floatingRef:a,props:u,mounted:s,setShow:f,x:p,y:m,placement:l,strategy:i,referenceElWidth:c}=n,v={...u,...t},x=fn(v,l),b={show:s.current?v.show:!1,enter:`${v.enter||""} ${x}`,enterFrom:`${v.enterFrom||""}`,enterTo:`${v.enterTo||""}`,leave:`${v.leave||""} ${x}`,leaveFrom:`${v.leaveFrom||""}`,leaveTo:`${v.leaveTo||""}`,beforeEnter:()=>{f(!0)},afterLeave:()=>{f(!1)}},d={style:{...!v.dialog&&(v.transform||v.transform===void 0)?{position:i,zIndex:v.zIndex||9999,top:"0px",left:"0px",right:"auto",bottom:"auto",transform:`translate(${Math.round(p||0)}px,${Math.round(m||0)}px)`}:{position:i,zIndex:v.zIndex||9999,top:`${m||0}px`,left:`${p||0}px`},width:v.adaptiveWidth&&typeof c=="number"?`${c}px`:void 0}};function h(E){return v.portal?P.jsx(nt,{children:E}):E}function C(E){const R={...d,...r,ref:a};if(v.as===o.Fragment)return P.jsx(E.type,{...E.props,...R});const I=v.as||"div";return P.jsx(I,{...R,children:P.jsx(E.type,{...E.props})})}function F(){return G.isServer?s.current&&v.show?P.jsx(e.type,{...e.props}):P.jsx(o.Fragment,{}):v.transitionChild?P.jsx(Ie.Child,{as:o.Fragment,...b,children:P.jsx(e.type,{...e.props})}):P.jsx(Ie,{as:o.Fragment,...b,children:P.jsx(e.type,{...e.props})})}return h(C(F()))}function Ge([e,t],r){var n,a;const u=sn(),s=o.useRef(!1),[f,p]=o.useState(),m=o.useRef(null),l=o.useMemo(()=>({show:r.onShow||(()=>{}),hide:r.onHide||(()=>{}),update:r.onUpdate||(()=>{})}),[r.onShow,r.onHide,r.onUpdate]),{x:i,y:c,placement:v,strategy:x,update:b,refs:d,middlewareData:h}=en({placement:r.placement||"bottom-start",strategy:r.strategy,middleware:f}),[C,F]=o.useState(null);o.useEffect(()=>{s.current=!0},[]),o.useEffect(()=>{e&&!ae.get(u)?(ae.set(u,!0),l.show()):!e&&ae.get(u)&&(ae.delete(u),l.hide())},[e]);const E=o.useCallback(()=>{b(),l.update()},[b,l]);o.useEffect(E,[r.placement,r.strategy,f]),un(p,d,m,r),ln(r.adaptiveWidth,d.reference,F),o.useEffect(()=>{if(d.reference.current&&d.floating.current&&e)return r.autoUpdate!==!1?at(d.reference.current,d.floating.current,E,typeof r.autoUpdate=="object"?r.autoUpdate:void 0):()=>{}},[e,E,d]);const R=o.useRef(!0);o.useEffect(()=>{!(d.reference.current instanceof Element)&&d.reference.current&&d.floating.current&&R.current&&(R.current=!1,E(),window.requestAnimationFrame(()=>{R.current=!0,E()}))},[d]);const I={referenceRef:d.setReference,placement:v},M={floatingRef:d.setFloating,props:r,mounted:s,setShow:t,x:i,y:c,placement:v,strategy:x,referenceElWidth:C},S={arrowRef:m,placement:v,x:(n=h.arrow)==null?void 0:n.x,y:(a=h.arrow)==null?void 0:a.y};return{referenceApi:I,floatingApi:M,arrowApi:S,x:i,y:c,placement:v,strategy:x,update:E,refs:d,middlewareData:h}}const Ke=o.forwardRef((e,t)=>{const[r,n]=o.useState(e.show??!1),{referenceApi:a,floatingApi:u,arrowApi:s,placement:f}=Ge([r,n],e),p={placement:f},[m,l]=typeof e.children=="function"?e.children(p):e.children;if(!o.isValidElement(m))return console.warn("<Float /> is missing a reference and floating element."),P.jsx(o.Fragment,{});function i(x){if(e.as===o.Fragment||!e.as)return P.jsx(o.Fragment,{children:x});const b=e.as;return P.jsx(b,{ref:t,className:e.className,children:x})}if(e.composable||e.dialog)return i(P.jsx(Pe.Provider,{value:a,children:P.jsx(Se.Provider,{value:u,children:P.jsx(Z.Provider,{value:s,children:typeof e.children=="function"?e.children(p):e.children})})},"FloatingNode"));const c=Xe(m,{as:o.Fragment},{key:"reference-node"},a),v=Ce(l,{as:e.floatingAs||"div"},{},u);return i([c,P.jsx(Z.Provider,{value:s,children:v},"floating-node")])});Ke.displayName="Float";function vn(e){if(!e.children)return P.jsx(o.Fragment,{});const t=o.useMemo(()=>{const{as:u,children:s,...f}=e;return f},[e]),r=Ye("Float.Reference"),{placement:n}=r,a={placement:n};return Xe(typeof e.children=="function"?e.children(a):e.children,{...e,as:e.as||o.Fragment},t,r)}function hn(e){if(!e.children)return P.jsx(o.Fragment,{});const t=o.useMemo(()=>{const{as:u,enter:s,enterFrom:f,enterTo:p,leave:m,leaveFrom:l,leaveTo:i,originClass:c,tailwindcssOriginClass:v,transitionChild:x,children:b,...d}=e;return d},[e]),r=ze("Float.Content"),{placement:n}=r,a={placement:n};return Ce(typeof e.children=="function"?e.children(a):e.children,{...e,as:e.as||"div"},t,r)}function yn(e){const{arrowRef:t,placement:r,x:n,y:a}=Ve("Float.Arrow"),u=o.useMemo(()=>{const{as:m,offset:l,children:i,...c}=e;return c},[e]),s={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]],f={left:typeof n=="number"?`${n}px`:void 0,top:typeof a=="number"?`${a}px`:void 0,right:void 0,bottom:void 0,[s]:`${(e.offset??4)*-1}px`,...u.style};if(e.as===o.Fragment){const m={placement:r},l=typeof e.children=="function"?e.children(m):e.children;return!l||!o.isValidElement(l)?P.jsx(o.Fragment,{}):P.jsx(l.type,{...l.props,ref:t,style:f})}const p=e.as||"div";return P.jsx(p,{ref:t,...u,style:f,children:e.children})}function $e({onInitial:e,children:t,...r}){const[n,a]=o.useState(r.show??!1),u=o.useMemo(()=>{const{as:c,show:v,placement:x,strategy:b,offset:d,shift:h,flip:C,arrow:F,autoPlacement:E,hide:R,autoUpdate:I,zIndex:M,enter:S,enterFrom:T,enterTo:g,leave:y,leaveFrom:$,leaveTo:k,originClass:O,tailwindcssOriginClass:W,portal:w,transform:_,middleware:K,onShow:q,onHide:J,onUpdate:Re,...Y}=r;return Y},[r]),{floatingApi:s,arrowApi:f,placement:p,refs:m}=Ge([n,a],r);o.useEffect(()=>{a(r.show??!1)},[r.show]);function l(){n&&a(!1)}if(e({show:n,setShow:a,placement:p,refs:m}),!t)return P.jsx(o.Fragment,{});const i=Ce(typeof t=="function"?t({placement:p,close:l}):t,{...r,as:r.as||o.Fragment,show:n},u,s);return P.jsx(Z.Provider,{value:f,children:i})}function gn(e){function t({setShow:r,refs:n}){B("contextmenu",a=>{a.preventDefault(),n.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:a.clientX,y:a.clientY,top:a.clientY,left:a.clientX,right:a.clientX,bottom:a.clientY}}}),r(!0)}),mn(n.floating,()=>{r(!1)})}return P.jsx($e,{flip:!0,...e,show:!1,portal:!0,onInitial:t})}function bn({globalHideCursor:e,...t}){function r({setShow:n,refs:a}){function u(){n(!0)}function s(){n(!1)}function f(i){a.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:i.clientX,y:i.clientY,top:i.clientY,left:i.clientX,right:i.clientX,bottom:i.clientY}}})}function p(i){u(),f(i)}function m(i){u(),f(i.touches[0])}const l=We(a.floating);l&&(o.useEffect(()=>{if((e||e===void 0)&&!l.getElementById("headlesui-float-cursor-style")){const i=l.createElement("style");return(l.head||l.getElementsByTagName("head")[0]).appendChild(i),i.id="headlesui-float-cursor-style",i.appendChild(l.createTextNode(["*, *::before, *::after {","  cursor: none !important;","}",".headlesui-float-cursor-root {","  pointer-events: none !important;","}"].join(`
`))),()=>{var c;return(c=l.getElementById("headlesui-float-cursor-style"))==null?void 0:c.remove()}}},[e]),"ontouchstart"in window||navigator.maxTouchPoints>0?(B("touchstart",m),B("touchend",s),B("touchmove",m)):(B("mouseenter",p),B("mouseleave",s),B("mousemove",p)))}return P.jsx($e,{...t,portal:!0,className:"headlesui-float-cursor-root",onInitial:r})}const En=Object.assign(Ke,{Reference:vn,Content:hn,Arrow:yn,Virtual:$e,ContextMenu:gn,Cursor:bn});function Ne({popoverContainerAs:e,popoverProps:t,popoverOpenerProps:r,popoverPanelProps:n,popperProps:a,children:u}){return ne.jsx(pe,{as:e??"div",...t,className:fe(`${re}-popover`,t==null?void 0:t.className),children:({open:s,close:f})=>ne.jsxs(En,{placement:"bottom-start",offset:8,shift:!0,flip:!0,portal:!0,enter:"transition duration-200 ease-out",enterFrom:"opacity-0 -translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition duration-150 ease-in",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-1",...a,children:[ne.jsx(pe.Button,{as:Et,...r,className:fe(`${re}-popover__opener`,{[`${re}-popover__opener--open`]:s},r==null?void 0:r.className)}),ne.jsx(pe.Panel,{...n,className:fe(`${re}-popover__panel`,n==null?void 0:n.className),children:typeof u=="function"?u(s,f):u})]})})}try{Ne.displayName="Popover",Ne.__docgenInfo={description:`TODO: improve this export

To close popover manually, add a Popover.Button from`,displayName:"Popover",props:{popoverContainerAs:{defaultValue:null,description:"",name:"popoverContainerAs",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},popoverProps:{defaultValue:null,description:"",name:"popoverProps",required:!1,type:{name:"any"}},popoverOpenerProps:{defaultValue:null,description:"",name:"popoverOpenerProps",required:!1,type:{name:'(Pick<object, never> & CleanProps<ElementType, "disabled" | ButtonPropsWeControl> & OurProps<ElementType, ButtonRenderPropArg> & { ...; } & { ...; } & { ...; })'}},popoverPanelProps:{defaultValue:null,description:"",name:"popoverPanelProps",required:!1,type:{name:"(PopoverPanelProps<ElementType> & { ref?: Ref<HTMLDivElement>; })"}},popperProps:{defaultValue:null,description:"",name:"popperProps",required:!1,type:{name:"Partial<FloatProps & RefAttributes<ElementType<any>>>"}}}}}catch{}export{pe as C,Ne as P};
