import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{c as s,C as F}from"./index-KpAVk5lk.js";import{n as W}from"./index.browser-OxPLOBIU.js";import{r as l}from"./index-BCtMShv3.js";import{c as U}from"./index.esm--LincS5R.js";import{d as $}from"./debounce-D2cU03he.js";import{F as B}from"./CustomTransition-CSHLgCWl.js";import{I as E}from"./Icon-DLP5P1Ct.js";import{B as L}from"./Button-Dw10h_TB.js";const M=r=>Array.isArray(r)&&r.length===2&&r.every(i=>typeof i=="string"),S=({control:r,name:i,onChange:o})=>{const h=U({name:i,control:r});return l.useEffect(()=>{o(h)},[h,o]),null},A=({borderType:r="outline",caption:i,captionIcon:o,state:h,label:T,leadingAdornment:v,leadingAdornmentOnClick:R,trailingAdornment:x,trailingAdornmentOnClick:b,hasContent:f,debounceParam:t,className:k,formControl:I,ref:m,...e})=>{const N=l.useRef((e==null?void 0:e.id)??`input---${W()}`),g=h==="error",y=l.useRef(null);l.useEffect(()=>{m&&(typeof m=="function"?m(y.current):m.current=y.current)},[m]);const V=l.useRef($(a=>{var c;(c=e==null?void 0:e.onChange)==null||c.call(e,a)},(t==null?void 0:t.debounceTime)??0)),[O,u]=l.useState(f??!1),d=l.useCallback(()=>!!f||!!(e!=null&&e.value)||!!(e!=null&&e.defaultValue)||!!(e!=null&&e.placeholder),[e==null?void 0:e.value,e==null?void 0:e.placeholder,e==null?void 0:e.defaultValue,f]);l.useEffect(()=>{f!=null&&u(f)},[f]);const j=(a,c=!1)=>{if(!a)return null;const q=s("fa-fw adornment-icon",{"adornment-icon--left":c});let C=b;return c&&(C=R),M(a)?C?n.jsx("div",{className:s("adornment-wrapper",{"adornment-wrapper--left":c}),children:n.jsx(L,{className:"adornment-button",borderType:"plain",type:"button",onClick:C,iconClassName:"fa-fw adornment-icon",icon:a})}):n.jsx(E,{icon:a,className:q}):n.jsx("div",{className:q,children:a})},_=l.useCallback(a=>{u(!!a||d())},[d]),w=a=>{var c;u(!!(e!=null&&e.placeholder)||d()||!!a.target.value),t!=null&&t.debounceTime?V.current(a):(c=e==null?void 0:e.onChange)==null||c.call(e,a)};return l.useEffect(()=>{u(d())},[d]),l.useLayoutEffect(()=>{setTimeout(()=>{var a;u(d()||!!((a=y.current)!=null&&a.value))},1)},[d]),l.useEffect(()=>{const a=V.current;return()=>{t&&(t.flushOnUnmount?a.flush():a.cancel())}},[t]),n.jsxs("div",{className:s(`${F}-input`,k),children:[n.jsxs("div",{className:s("input-container",`input-container--${r}`,{"input-container--error":g},{"input-container--has-content":O},{"input-container--with-leading-icon":v},{"input-container--with-trailing-icon":x},{"input-container--read-only":e==null?void 0:e.readOnly}),children:[j(v,!0),n.jsx("label",{htmlFor:N.current,children:T}),n.jsx("input",{...e,id:N.current,ref:y,onChange:w}),j(x),I&&n.jsx(S,{control:I,name:e.name??"",onChange:_})]}),n.jsx(B,{show:!!i,children:n.jsxs("div",{className:s("caption-container",{"caption-container--error":g}),children:[(g||o)&&n.jsx(E,{icon:o||["far","info-circle"],className:"fa-fw icon"}),i]})})]})};try{A.displayName="Input",A.__docgenInfo={description:"",displayName:"Input",props:{borderType:{defaultValue:{value:"outline"},description:"",name:"borderType",required:!1,type:{name:"enum",value:[{value:'"fill"'},{value:'"outline"'},{value:'"plain"'}]}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"ReactNode"}},captionIcon:{defaultValue:null,description:"",name:"captionIcon",required:!1,type:{name:"[IconPrefix, string]"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"error"'}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},leadingAdornment:{defaultValue:null,description:"",name:"leadingAdornment",required:!1,type:{name:"FormAdornment"}},leadingAdornmentOnClick:{defaultValue:null,description:"",name:"leadingAdornmentOnClick",required:!1,type:{name:"(() => void)"}},trailingAdornment:{defaultValue:null,description:"",name:"trailingAdornment",required:!1,type:{name:"FormAdornment"}},trailingAdornmentOnClick:{defaultValue:null,description:"",name:"trailingAdornmentOnClick",required:!1,type:{name:"(() => void)"}},hasContent:{defaultValue:null,description:"",name:"hasContent",required:!1,type:{name:"boolean"}},debounceParam:{defaultValue:null,description:"",name:"debounceParam",required:!1,type:{name:"{ debounceTime: number; flushOnUnmount?: boolean; }"}},formControl:{defaultValue:null,description:"",name:"formControl",required:!1,type:{name:"Control<any>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}export{A as I};
