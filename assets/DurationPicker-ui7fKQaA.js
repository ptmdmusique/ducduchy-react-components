import{j as Y}from"./jsx-runtime-D_zvdyIk.js";import{C as N,c as W}from"./index-KpAVk5lk.js";import{g as H,a as X,D as j,b as J,p as K,c as Z,d as G}from"./date-ChEv5BYL.js";import{g as Q,r as d}from"./index-BCtMShv3.js";import{a as R,M as w}from"./MaskedInput-CAuCWOAw.js";import{B as I,P}from"./Popover-ChzGn0PM.js";import{B as ee}from"./Button-Dw10h_TB.js";var F={exports:{}},ne=F.exports,_;function te(){return _||(_=1,function(m,k){(function(V,c){m.exports=c()})(ne,function(){var V,c,p=1e3,h=6e4,s=36e5,C=864e5,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$=31536e6,M=2628e6,D=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,v={years:$,months:M,days:C,hours:s,minutes:h,seconds:p,milliseconds:1,weeks:6048e5},O=function(u){return u instanceof E},q=function(u,t,e){return new E(u,e,t.$l)},S=function(u){return c.p(u)+"s"},g=function(u){return u<0},y=function(u){return g(u)?Math.ceil(u):Math.floor(u)},x=function(u){return Math.abs(u)},b=function(u,t){return u?g(u)?{negative:!0,format:""+x(u)+t}:{negative:!1,format:""+u+t}:{negative:!1,format:""}},E=function(){function u(e,n,i){var a=this;if(this.$d={},this.$l=i,e===void 0&&(this.$ms=0,this.parseFromMilliseconds()),n)return q(e*v[S(n)],this);if(typeof e=="number")return this.$ms=e,this.parseFromMilliseconds(),this;if(typeof e=="object")return Object.keys(e).forEach(function(l){a.$d[S(l)]=e[l]}),this.calMilliseconds(),this;if(typeof e=="string"){var r=e.match(D);if(r){var o=r.slice(2).map(function(l){return l!=null?Number(l):0});return this.$d.years=o[0],this.$d.months=o[1],this.$d.weeks=o[2],this.$d.days=o[3],this.$d.hours=o[4],this.$d.minutes=o[5],this.$d.seconds=o[6],this.calMilliseconds(),this}}return this}var t=u.prototype;return t.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce(function(n,i){return n+(e.$d[i]||0)*v[i]},0)},t.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=y(e/$),e%=$,this.$d.months=y(e/M),e%=M,this.$d.days=y(e/C),e%=C,this.$d.hours=y(e/s),e%=s,this.$d.minutes=y(e/h),e%=h,this.$d.seconds=y(e/p),e%=p,this.$d.milliseconds=e},t.toISOString=function(){var e=b(this.$d.years,"Y"),n=b(this.$d.months,"M"),i=+this.$d.days||0;this.$d.weeks&&(i+=7*this.$d.weeks);var a=b(i,"D"),r=b(this.$d.hours,"H"),o=b(this.$d.minutes,"M"),l=this.$d.seconds||0;this.$d.milliseconds&&(l+=this.$d.milliseconds/1e3,l=Math.round(1e3*l)/1e3);var f=b(l,"S"),B=e.negative||n.negative||a.negative||r.negative||o.negative||f.negative,z=r.format||o.format||f.format?"T":"",T=(B?"-":"")+"P"+e.format+n.format+a.format+z+r.format+o.format+f.format;return T==="P"||T==="-P"?"P0D":T},t.toJSON=function(){return this.toISOString()},t.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",i={Y:this.$d.years,YY:c.s(this.$d.years,2,"0"),YYYY:c.s(this.$d.years,4,"0"),M:this.$d.months,MM:c.s(this.$d.months,2,"0"),D:this.$d.days,DD:c.s(this.$d.days,2,"0"),H:this.$d.hours,HH:c.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:c.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:c.s(this.$d.seconds,2,"0"),SSS:c.s(this.$d.milliseconds,3,"0")};return n.replace(L,function(a,r){return r||String(i[a])})},t.as=function(e){return this.$ms/v[S(e)]},t.get=function(e){var n=this.$ms,i=S(e);return i==="milliseconds"?n%=1e3:n=i==="weeks"?y(n/v[i]):this.$d[i],n||0},t.add=function(e,n,i){var a;return a=n?e*v[S(n)]:O(e)?e.$ms:q(e,this).$ms,q(this.$ms+a*(i?-1:1),this)},t.subtract=function(e,n){return this.add(e,n,!0)},t.locale=function(e){var n=this.clone();return n.$l=e,n},t.clone=function(){return q(this.$ms,this)},t.humanize=function(e){return V().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},t.valueOf=function(){return this.asMilliseconds()},t.milliseconds=function(){return this.get("milliseconds")},t.asMilliseconds=function(){return this.as("milliseconds")},t.seconds=function(){return this.get("seconds")},t.asSeconds=function(){return this.as("seconds")},t.minutes=function(){return this.get("minutes")},t.asMinutes=function(){return this.as("minutes")},t.hours=function(){return this.get("hours")},t.asHours=function(){return this.as("hours")},t.days=function(){return this.get("days")},t.asDays=function(){return this.as("days")},t.weeks=function(){return this.get("weeks")},t.asWeeks=function(){return this.as("weeks")},t.months=function(){return this.get("months")},t.asMonths=function(){return this.as("months")},t.years=function(){return this.get("years")},t.asYears=function(){return this.as("years")},u}(),A=function(u,t,e){return u.add(t.years()*e,"y").add(t.months()*e,"M").add(t.days()*e,"d").add(t.hours()*e,"h").add(t.minutes()*e,"m").add(t.seconds()*e,"s").add(t.milliseconds()*e,"ms")};return function(u,t,e){V=e,c=e().$utils(),e.duration=function(a,r){var o=e.locale();return q(a,{$l:o},r)},e.isDuration=O;var n=t.prototype.add,i=t.prototype.subtract;t.prototype.add=function(a,r){return O(a)?A(this,a,1):n.bind(this)(a,r)},t.prototype.subtract=function(a,r){return O(a)?A(this,a,-1):i.bind(this)(a,r)}}})}(F)),F.exports}var ie=te();const se=Q(ie);G.extend(se);const ae={"dd--days":{mask:R,placeholderChar:"0",from:0,to:99,maxLength:2},"dd--hours":{mask:R,placeholderChar:"0",from:0,to:99,maxLength:2},"dd--minutes":{mask:R,placeholderChar:"0",from:0,to:99,maxLength:2},"dd--seconds":{mask:R,placeholderChar:"0",from:0,to:99,maxLength:2}},U=({localeText:m,doDisabled:k,onChange:V,value:c,separatedBySpace:p=!0,defaultValue:h,dropdownItemProps:s,closeOnClick:C=!0,closeOnFocus:L,ref:$,...M})=>{const D=d.useCallback(n=>{let i;if(n!==void 0){const a=H(n,k??j);i=X(a,m,{doDisabled:k??j,doPrepend0:!0,separatedBySpace:p})}return i},[k,m,p]),v=d.useRef(null),O=d.useRef(null);d.useEffect(()=>{$&&(typeof $=="function"?$(v.current):$.current=v.current)},[$]);const q=d.useMemo(()=>c==null?void 0:D(c),[c,D]),S=d.useMemo(()=>h==null?void 0:D(h),[h,D]),[g,y]=d.useState(c??h);d.useEffect(()=>{y(c??h)},[c,h]);const x=d.useCallback(n=>k?k[n]:j[n],[k]),b=d.useCallback(n=>(m==null?void 0:m[n])??J[n],[m]),{mask:E,placeholder:A}=d.useMemo(()=>{const n={};let i="";return K.forEach(r=>{const o=x(r),l=b(r);n[`dd--${r}{${l}}`]=!o,o||(i+=`00${l} `)}),{mask:Object.keys(n).filter(r=>n[r]===!0).join(p?" ":""),placeholder:i}},[p,x,b]),u=d.useMemo(()=>{const n=(s==null?void 0:s.minDuration)??0,i=(s==null?void 0:s.maxDuration)??864e5,a=(s==null?void 0:s.interval)??9e5,r=(s==null?void 0:s.inclusiveEnd)??!0,o=s==null?void 0:s.isItemValid,l=[];let f=n;for(;r?f<=i:f<i;)((o==null?void 0:o(f))??!0)&&l.push(f),f+=a;return l},[s==null?void 0:s.minDuration,s==null?void 0:s.maxDuration,s==null?void 0:s.interval,s==null?void 0:s.inclusiveEnd,s==null?void 0:s.isItemValid]),t=(n,i,a)=>{const{formatItem:r}=s??{},o=()=>{var f;const l=D(n);(f=O.current)==null||f.setValue(l)};return Y.jsx(ee,{className:`${N}-duration-item`,borderType:"plain",ref:l=>{g===n?l==null||l.focus():g!==void 0&&(i===0&&g<n||i===u.length-1&&g>n||g>n&&g<u[i+1])&&(l==null||l.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))},onFocus:l=>{l.target.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),o(),L&&a()},onMouseDown:()=>{o(),C&&a()},children:(r==null?void 0:r(H(n),n))??D(n)},i)},e=d.useMemo(()=>({...M.maskOptions,mask:E,lazy:!1,blocks:ae,eager:!0,autofix:!0,overwrite:!0}),[M.maskOptions,E]);return Y.jsx(I,{children:Y.jsx(P,{popoverProps:{className:`${N}-duration-picker`},popoverOpenerProps:{as:w,...M,ref:v,handlerRef:O,value:q,defaultValue:S,className:W(`${N}-duration-picker__input`,M.className),placeholder:A,maskOptions:e,onChange:(n,i)=>{const a=Z(i,m,k);V==null||V(n,i,a),y(a)}},popoverPanelProps:{className:`${N}-duration-picker__panel`},children:(n,i)=>u.map((a,r)=>t(a,r,i))})})};try{U.displayName="DurationPicker",U.__docgenInfo={description:"",displayName:"DurationPicker",props:{localeText:{defaultValue:null,description:"",name:"localeText",required:!1,type:{name:"{ days?: string; hours?: string; minutes?: string | undefined; seconds?: string | undefined; } | undefined"}},doDisabled:{defaultValue:null,description:"Do we NOT use day/hour/minute/second?",name:"doDisabled",required:!1,type:{name:"{ days?: boolean; hours?: boolean; minutes?: boolean | undefined; seconds?: boolean | undefined; } | undefined"}},onChange:{defaultValue:null,description:"Use 3rd parameter to get duration in milliseconds",name:"onChange",required:!1,type:{name:"((unmaskedValue: string, maskedValue: string, durationInMs: number) => void)"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"number"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"number"}},closeOnClick:{defaultValue:{value:"true"},description:"Should we close the popover on item click",name:"closeOnClick",required:!1,type:{name:"boolean"}},closeOnFocus:{defaultValue:null,description:"Should we close the popover on item focus",name:"closeOnFocus",required:!1,type:{name:"boolean"}},separatedBySpace:{defaultValue:{value:"true"},description:"",name:"separatedBySpace",required:!1,type:{name:"boolean"}},dropdownItemProps:{defaultValue:null,description:"",name:"dropdownItemProps",required:!1,type:{name:"{ minDuration?: number; maxDuration?: number; interval?: number | undefined; inclusiveEnd?: boolean | undefined; formatItem?: ((duration: Duration, durationInMs: number) => ReactNode) | undefined; isItemValid?: ((durationInMs: number) => boolean) | undefined; } | undefined"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLInputElement>"}},borderType:{defaultValue:null,description:"",name:"borderType",required:!1,type:{name:"enum",value:[{value:'"fill"'},{value:'"outline"'},{value:'"plain"'}]}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"ReactNode"}},captionIcon:{defaultValue:null,description:"",name:"captionIcon",required:!1,type:{name:"[IconPrefix, string]"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"error"'}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},leadingAdornment:{defaultValue:null,description:"",name:"leadingAdornment",required:!1,type:{name:"FormAdornment"}},leadingAdornmentOnClick:{defaultValue:null,description:"",name:"leadingAdornmentOnClick",required:!1,type:{name:"(() => void)"}},trailingAdornment:{defaultValue:null,description:"",name:"trailingAdornment",required:!1,type:{name:"FormAdornment"}},trailingAdornmentOnClick:{defaultValue:null,description:"",name:"trailingAdornmentOnClick",required:!1,type:{name:"(() => void)"}},hasContent:{defaultValue:null,description:"",name:"hasContent",required:!1,type:{name:"boolean"}},debounceParam:{defaultValue:null,description:"",name:"debounceParam",required:!1,type:{name:"{ debounceTime: number; flushOnUnmount?: boolean; }"}},formControl:{defaultValue:null,description:"",name:"formControl",required:!1,type:{name:"Control<any>"}},maskOptions:{defaultValue:null,description:"",name:"maskOptions",required:!1,type:{name:"AnyMaskedOptions"}},handlerRef:{defaultValue:null,description:"",name:"handlerRef",required:!1,type:{name:"Ref<MaskedInputHandle>"}}}}}catch{}export{U as D};
