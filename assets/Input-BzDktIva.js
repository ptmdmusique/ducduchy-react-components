import{j as l}from"./jsx-runtime-Cw0GR0a5.js";import{c as u,C as F}from"./index-BPE7S6ci.js";import{n as W}from"./index.browser-vcSNLBTf.js";import{r as n}from"./index-CTjT7uj6.js";import{c as U}from"./index.esm-Eo6g99vg.js";import{d as $}from"./debounce-D2cU03he.js";import{F as B}from"./CustomTransition-QYAwEdC6.js";import{I as A}from"./Icon-Bd6wgpvP.js";import{B as L}from"./Button-WKpNADTN.js";const M=r=>Array.isArray(r)&&r.length===2&&r.every(f=>typeof f=="string"),S=({control:r,name:f,onChange:o})=>{const h=U({name:f,control:r});return n.useEffect(()=>{o(h)},[h,o]),null},E=n.forwardRef(({borderType:r="outline",caption:f,captionIcon:o,state:h,label:b,leadingAdornment:v,leadingAdornmentOnClick:R,trailingAdornment:x,trailingAdornmentOnClick:T,hasContent:i,debounceParam:t,className:k,formControl:N,...e},m)=>{const V=n.useRef((e==null?void 0:e.id)??`input---${W()}`),g=h==="error",y=n.useRef(null);n.useEffect(()=>{m&&(typeof m=="function"?m(y.current):m.current=y.current)},[m]);const j=n.useRef($(a=>{var c;(c=e==null?void 0:e.onChange)==null||c.call(e,a)},(t==null?void 0:t.debounceTime)??0)),[w,s]=n.useState(i??!1),d=n.useCallback(()=>!!i||!!(e!=null&&e.value)||!!(e!=null&&e.defaultValue)||!!(e!=null&&e.placeholder),[e==null?void 0:e.value,e==null?void 0:e.placeholder,e==null?void 0:e.defaultValue,i]);n.useEffect(()=>{i!=null&&s(i)},[i]);const I=(a,c=!1)=>{if(!a)return null;const q=u("fa-fw adornment-icon",{"adornment-icon--left":c});let C=T;return c&&(C=R),M(a)?C?l.jsx("div",{className:u("adornment-wrapper",{"adornment-wrapper--left":c}),children:l.jsx(L,{className:"adornment-button",borderType:"plain",type:"button",onClick:C,iconClassName:"fa-fw adornment-icon",icon:a})}):l.jsx(A,{icon:a,className:q}):l.jsx("div",{className:q,children:a})},O=n.useCallback(a=>{s(!!a||d())},[d]),_=a=>{var c;s(!!(e!=null&&e.placeholder)||d()||!!a.target.value),t!=null&&t.debounceTime?j.current(a):(c=e==null?void 0:e.onChange)==null||c.call(e,a)};return n.useEffect(()=>{s(d())},[d]),n.useLayoutEffect(()=>{setTimeout(()=>{var a;s(d()||!!((a=y.current)!=null&&a.value))},1)},[d]),n.useEffect(()=>{const a=j.current;return()=>{t&&(t.flushOnUnmount?a.flush():a.cancel())}},[t]),l.jsxs("div",{className:u(`${F}-input`,k),children:[l.jsxs("div",{className:u("input-container",`input-container--${r}`,{"input-container--error":g},{"input-container--has-content":w},{"input-container--with-leading-icon":v},{"input-container--with-trailing-icon":x},{"input-container--read-only":e==null?void 0:e.readOnly}),children:[I(v,!0),l.jsx("label",{htmlFor:V.current,children:b}),l.jsx("input",{...e,id:V.current,ref:y,onChange:_}),I(x),N&&l.jsx(S,{control:N,name:e.name??"",onChange:O})]}),l.jsx(B,{show:!!f,children:l.jsxs("div",{className:u("caption-container",{"caption-container--error":g}),children:[(g||o)&&l.jsx(A,{icon:o||["far","info-circle"],className:"fa-fw icon"}),f]})})]})});try{E.displayName="Input",E.__docgenInfo={description:"",displayName:"Input",props:{borderType:{defaultValue:{value:"outline"},description:"",name:"borderType",required:!1,type:{name:"enum",value:[{value:'"fill"'},{value:'"outline"'},{value:'"plain"'}]}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"ReactNode"}},captionIcon:{defaultValue:null,description:"",name:"captionIcon",required:!1,type:{name:'["fas" | "far" | "fal" | "fat" | "fad" | "fab", string]'}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"error"'}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},leadingAdornment:{defaultValue:null,description:"",name:"leadingAdornment",required:!1,type:{name:"FormAdornment"}},leadingAdornmentOnClick:{defaultValue:null,description:"",name:"leadingAdornmentOnClick",required:!1,type:{name:"(() => void)"}},trailingAdornment:{defaultValue:null,description:"",name:"trailingAdornment",required:!1,type:{name:"FormAdornment"}},trailingAdornmentOnClick:{defaultValue:null,description:"",name:"trailingAdornmentOnClick",required:!1,type:{name:"(() => void)"}},hasContent:{defaultValue:null,description:"",name:"hasContent",required:!1,type:{name:"boolean"}},debounceParam:{defaultValue:null,description:"",name:"debounceParam",required:!1,type:{name:"{ debounceTime: number; flushOnUnmount?: boolean; }"}},formControl:{defaultValue:null,description:"",name:"formControl",required:!1,type:{name:"Control<any>"}}}}}catch{}export{E as I};
