import{j as Y}from"./jsx-runtime-Cw0GR0a5.js";import{C as x,c as z}from"./index-BPE7S6ci.js";import{d as G,g as j,a as W,D as T,b as X,p as J,c as K}from"./date-8pWheqdY.js";import{c as Z,g as Q,r as d}from"./index-CTjT7uj6.js";import{M as w,a as R}from"./MaskedInput-DnAXwrLp.js";import{C as I,P}from"./Popover-BEgU7IwE.js";import{B as ee}from"./Button-CMa_9Q4I.js";var _={exports:{}};(function(m,k){(function(V,c){m.exports=c()})(Z,function(){var V,c,M=1e3,h=6e4,s=36e5,q=864e5,F=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p=31536e6,$=2628e6,D=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,g={years:p,months:$,days:q,hours:s,minutes:h,seconds:M,milliseconds:1,weeks:6048e5},O=function(u){return u instanceof E},S=function(u,t,e){return new E(u,e,t.$l)},C=function(u){return c.p(u)+"s"},v=function(u){return u<0},y=function(u){return v(u)?Math.ceil(u):Math.floor(u)},A=function(u){return Math.abs(u)},b=function(u,t){return u?v(u)?{negative:!0,format:""+A(u)+t}:{negative:!1,format:""+u+t}:{negative:!1,format:""}},E=function(){function u(e,n,i){var a=this;if(this.$d={},this.$l=i,e===void 0&&(this.$ms=0,this.parseFromMilliseconds()),n)return S(e*g[C(n)],this);if(typeof e=="number")return this.$ms=e,this.parseFromMilliseconds(),this;if(typeof e=="object")return Object.keys(e).forEach(function(l){a.$d[C(l)]=e[l]}),this.calMilliseconds(),this;if(typeof e=="string"){var r=e.match(D);if(r){var o=r.slice(2).map(function(l){return l!=null?Number(l):0});return this.$d.years=o[0],this.$d.months=o[1],this.$d.weeks=o[2],this.$d.days=o[3],this.$d.hours=o[4],this.$d.minutes=o[5],this.$d.seconds=o[6],this.calMilliseconds(),this}}return this}var t=u.prototype;return t.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce(function(n,i){return n+(e.$d[i]||0)*g[i]},0)},t.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=y(e/p),e%=p,this.$d.months=y(e/$),e%=$,this.$d.days=y(e/q),e%=q,this.$d.hours=y(e/s),e%=s,this.$d.minutes=y(e/h),e%=h,this.$d.seconds=y(e/M),e%=M,this.$d.milliseconds=e},t.toISOString=function(){var e=b(this.$d.years,"Y"),n=b(this.$d.months,"M"),i=+this.$d.days||0;this.$d.weeks&&(i+=7*this.$d.weeks);var a=b(i,"D"),r=b(this.$d.hours,"H"),o=b(this.$d.minutes,"M"),l=this.$d.seconds||0;this.$d.milliseconds&&(l+=this.$d.milliseconds/1e3,l=Math.round(1e3*l)/1e3);var f=b(l,"S"),U=e.negative||n.negative||a.negative||r.negative||o.negative||f.negative,B=r.format||o.format||f.format?"T":"",L=(U?"-":"")+"P"+e.format+n.format+a.format+B+r.format+o.format+f.format;return L==="P"||L==="-P"?"P0D":L},t.toJSON=function(){return this.toISOString()},t.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",i={Y:this.$d.years,YY:c.s(this.$d.years,2,"0"),YYYY:c.s(this.$d.years,4,"0"),M:this.$d.months,MM:c.s(this.$d.months,2,"0"),D:this.$d.days,DD:c.s(this.$d.days,2,"0"),H:this.$d.hours,HH:c.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:c.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:c.s(this.$d.seconds,2,"0"),SSS:c.s(this.$d.milliseconds,3,"0")};return n.replace(F,function(a,r){return r||String(i[a])})},t.as=function(e){return this.$ms/g[C(e)]},t.get=function(e){var n=this.$ms,i=C(e);return i==="milliseconds"?n%=1e3:n=i==="weeks"?y(n/g[i]):this.$d[i],n||0},t.add=function(e,n,i){var a;return a=n?e*g[C(n)]:O(e)?e.$ms:S(e,this).$ms,S(this.$ms+a*(i?-1:1),this)},t.subtract=function(e,n){return this.add(e,n,!0)},t.locale=function(e){var n=this.clone();return n.$l=e,n},t.clone=function(){return S(this.$ms,this)},t.humanize=function(e){return V().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},t.valueOf=function(){return this.asMilliseconds()},t.milliseconds=function(){return this.get("milliseconds")},t.asMilliseconds=function(){return this.as("milliseconds")},t.seconds=function(){return this.get("seconds")},t.asSeconds=function(){return this.as("seconds")},t.minutes=function(){return this.get("minutes")},t.asMinutes=function(){return this.as("minutes")},t.hours=function(){return this.get("hours")},t.asHours=function(){return this.as("hours")},t.days=function(){return this.get("days")},t.asDays=function(){return this.as("days")},t.weeks=function(){return this.get("weeks")},t.asWeeks=function(){return this.as("weeks")},t.months=function(){return this.get("months")},t.asMonths=function(){return this.as("months")},t.years=function(){return this.get("years")},t.asYears=function(){return this.as("years")},u}(),N=function(u,t,e){return u.add(t.years()*e,"y").add(t.months()*e,"M").add(t.days()*e,"d").add(t.hours()*e,"h").add(t.minutes()*e,"m").add(t.seconds()*e,"s").add(t.milliseconds()*e,"ms")};return function(u,t,e){V=e,c=e().$utils(),e.duration=function(a,r){var o=e.locale();return S(a,{$l:o},r)},e.isDuration=O;var n=t.prototype.add,i=t.prototype.subtract;t.prototype.add=function(a,r){return O(a)?N(this,a,1):n.bind(this)(a,r)},t.prototype.subtract=function(a,r){return O(a)?N(this,a,-1):i.bind(this)(a,r)}}})})(_);var ne=_.exports;const te=Q(ne);G.extend(te);const ie={"dd--days":{mask:R,placeholderChar:"0",from:0,to:99,maxLength:2},"dd--hours":{mask:R,placeholderChar:"0",from:0,to:99,maxLength:2},"dd--minutes":{mask:R,placeholderChar:"0",from:0,to:99,maxLength:2},"dd--seconds":{mask:R,placeholderChar:"0",from:0,to:99,maxLength:2}},H=d.forwardRef(({localeText:m,doDisabled:k,onChange:V,value:c,separatedBySpace:M=!0,defaultValue:h,dropdownItemProps:s,closeOnClick:q=!0,closeOnFocus:F,...p},$)=>{const D=d.useCallback(n=>{let i;if(n!==void 0){const a=j(n,k??T);i=W(a,m,{doDisabled:k??T,doPrepend0:!0,separatedBySpace:M})}return i},[k,m,M]),g=d.useRef(null),O=d.useRef(null);d.useEffect(()=>{$&&(typeof $=="function"?$(g.current):$.current=g.current)},[$]);const S=d.useMemo(()=>c==null?void 0:D(c),[c,D]),C=d.useMemo(()=>h==null?void 0:D(h),[h,D]),[v,y]=d.useState(c??h);d.useEffect(()=>{y(c??h)},[c,h]);const A=d.useCallback(n=>k?k[n]:T[n],[k]),b=d.useCallback(n=>(m==null?void 0:m[n])??X[n],[m]),{mask:E,placeholder:N}=d.useMemo(()=>{const n={};let i="";return J.forEach(r=>{const o=A(r),l=b(r);n[`dd--${r}{${l}}`]=!o,o||(i+=`00${l} `)}),{mask:Object.keys(n).filter(r=>n[r]===!0).join(M?" ":""),placeholder:i}},[M,A,b]),u=d.useMemo(()=>{const n=(s==null?void 0:s.minDuration)??0,i=(s==null?void 0:s.maxDuration)??864e5,a=(s==null?void 0:s.interval)??9e5,r=(s==null?void 0:s.inclusiveEnd)??!0,o=s==null?void 0:s.isItemValid,l=[];let f=n;for(;r?f<=i:f<i;)((o==null?void 0:o(f))??!0)&&l.push(f),f+=a;return l},[s==null?void 0:s.minDuration,s==null?void 0:s.maxDuration,s==null?void 0:s.interval,s==null?void 0:s.inclusiveEnd,s==null?void 0:s.isItemValid]),t=(n,i,a)=>{const{formatItem:r}=s??{},o=()=>{var f;const l=D(n);(f=O.current)==null||f.setValue(l)};return Y.jsx(ee,{className:`${x}-duration-item`,borderType:"plain",ref:l=>{v===n?l==null||l.focus():v!==void 0&&(i===0&&v<n||i===u.length-1&&v>n||v>n&&v<u[i+1])&&(l==null||l.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))},onFocus:l=>{l.target.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),o(),F&&a()},onMouseDown:()=>{o(),q&&a()},children:(r==null?void 0:r(j(n),n))??D(n)},i)},e=d.useMemo(()=>({...p.maskOptions,mask:E,lazy:!1,blocks:ie,eager:!0,autofix:!0,overwrite:!0}),[p.maskOptions,E]);return Y.jsx(I.Group,{children:Y.jsx(P,{popoverProps:{className:`${x}-duration-picker`},popoverOpenerProps:{as:w,...p,ref:g,handlerRef:O,value:S,defaultValue:C,className:z(`${x}-duration-picker__input`,p.className),placeholder:N,maskOptions:e,onChange:(n,i)=>{const a=K(i,m,k);V==null||V(n,i,a),y(a)}},popoverPanelProps:{className:`${x}-duration-picker__panel`},children:(n,i)=>u.map((a,r)=>t(a,r,i))})})});try{H.displayName="DurationPicker",H.__docgenInfo={description:"",displayName:"DurationPicker",props:{localeText:{defaultValue:null,description:"",name:"localeText",required:!1,type:{name:"{ days?: string; hours?: string; minutes?: string | undefined; seconds?: string | undefined; } | undefined"}},doDisabled:{defaultValue:null,description:"Do we NOT use day/hour/minute/second?",name:"doDisabled",required:!1,type:{name:"{ days?: boolean; hours?: boolean; minutes?: boolean | undefined; seconds?: boolean | undefined; } | undefined"}},onChange:{defaultValue:null,description:"Use 3rd parameter to get duration in milliseconds",name:"onChange",required:!1,type:{name:"((unmaskedValue: string, maskedValue: string, durationInMs: number) => void)"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"number"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"number"}},closeOnClick:{defaultValue:{value:"true"},description:"Should we close the popover on item click",name:"closeOnClick",required:!1,type:{name:"boolean"}},closeOnFocus:{defaultValue:null,description:"Should we close the popover on item focus",name:"closeOnFocus",required:!1,type:{name:"boolean"}},separatedBySpace:{defaultValue:{value:"true"},description:"",name:"separatedBySpace",required:!1,type:{name:"boolean"}},dropdownItemProps:{defaultValue:null,description:"",name:"dropdownItemProps",required:!1,type:{name:"{ minDuration?: number; maxDuration?: number; interval?: number | undefined; inclusiveEnd?: boolean | undefined; formatItem?: ((duration: Duration, durationInMs: number) => ReactNode) | undefined; isItemValid?: ((durationInMs: number) => boolean) | undefined; } | undefined"}},borderType:{defaultValue:null,description:"",name:"borderType",required:!1,type:{name:"enum",value:[{value:'"fill"'},{value:'"outline"'},{value:'"plain"'}]}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"ReactNode"}},captionIcon:{defaultValue:null,description:"",name:"captionIcon",required:!1,type:{name:'["fas" | "far" | "fal" | "fat" | "fad" | "fab", string]'}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"error"'}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},leadingAdornment:{defaultValue:null,description:"",name:"leadingAdornment",required:!1,type:{name:"FormAdornment"}},leadingAdornmentOnClick:{defaultValue:null,description:"",name:"leadingAdornmentOnClick",required:!1,type:{name:"(() => void)"}},trailingAdornment:{defaultValue:null,description:"",name:"trailingAdornment",required:!1,type:{name:"FormAdornment"}},trailingAdornmentOnClick:{defaultValue:null,description:"",name:"trailingAdornmentOnClick",required:!1,type:{name:"(() => void)"}},hasContent:{defaultValue:null,description:"",name:"hasContent",required:!1,type:{name:"boolean"}},debounceParam:{defaultValue:null,description:"",name:"debounceParam",required:!1,type:{name:"{ debounceTime: number; flushOnUnmount?: boolean; }"}},formControl:{defaultValue:null,description:"",name:"formControl",required:!1,type:{name:"Control<any>"}},maskOptions:{defaultValue:null,description:"",name:"maskOptions",required:!1,type:{name:"AnyMaskedOptions"}},handlerRef:{defaultValue:null,description:"",name:"handlerRef",required:!1,type:{name:"Ref<MaskedInputHandle>"}}}}}catch{}export{H as D};
