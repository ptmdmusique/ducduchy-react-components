import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{r as o,R}from"./index-CTjT7uj6.js";import{C as ae,u as le}from"./index.esm-Eo6g99vg.js";import{c as I,C as w,a as k}from"./index-BPE7S6ci.js";import{n as ne}from"./index.browser-vcSNLBTf.js";import{B as se,T as ie,F as ce,p as ue}from"./label-C2fQhLAH.js";import{p as de}from"./use-disposables-BgtiGxt7.js";import{U as me,y as pe,a as F,x as fe,C as re}from"./render-C-IlGZgy.js";import{I as ge,o as G}from"./keyboard-BCuVGIMY.js";import{T as be}from"./use-resolve-button-type-CoZBuHh8.js";import{u as he,s as ye}from"./hidden-BS2yFtF9.js";import{r as xe}from"./bugs-DpEN4NTH.js";import{G as ve,w as Te}from"./description-B9Xxk_QN.js";import{I as Se}from"./Icon-Bd6wgpvP.js";import{q as ke}from"./transition-BVEjyM41.js";import{T as A}from"./Tooltip-Bl_bbHko.js";import{B as Re}from"./Button-3zomcV1U.js";import"./index-C4AY7A6g.js";import"./index-BRV0Se7Z.js";import"./use-flags-B0uNXtCz.js";import"./use-is-mounted-DsBFbocb.js";import"./open-closed-CcTP-TJU.js";import"./index-9r8iugjR.js";import"./animation-BOght_T9.js";let M=o.createContext(null);M.displayName="GroupContext";let je=o.Fragment;function Ve(t){var a;let[l,n]=o.useState(null),[u,d]=ce(),[s,f]=Te(),m=o.useMemo(()=>({switch:l,setSwitch:n,labelledby:u,describedby:s}),[l,n,u,s]),i={},j=t;return R.createElement(f,{name:"Switch.Description"},R.createElement(d,{name:"Switch.Label",props:{htmlFor:(a=m.switch)==null?void 0:a.id,onClick(x){l&&(x.currentTarget.tagName==="LABEL"&&x.preventDefault(),l.click(),l.focus({preventScroll:!0}))}}},R.createElement(M.Provider,{value:m},re({ourProps:i,theirProps:j,defaultTag:je,name:"Switch.Group"}))))}let we="button";function Ee(t,a){var l;let n=ge(),{id:u=`headlessui-switch-${n}`,checked:d,defaultChecked:s=!1,onChange:f,disabled:m=!1,name:i,value:j,form:x,...L}=t,p=o.useContext(M),v=o.useRef(null),T=pe(v,a,p===null?null:p.setSwitch),[c,g]=ie(d,f,s),V=F(()=>g==null?void 0:g(!c)),$=F(r=>{if(xe(r.currentTarget))return r.preventDefault();r.preventDefault(),V()}),_=F(r=>{r.key===G.Space?(r.preventDefault(),V()):r.key===G.Enter&&ue(r.currentTarget)}),B=F(r=>r.preventDefault()),P=o.useMemo(()=>({checked:c}),[c]),b={id:u,ref:T,role:"switch",type:be(t,v),tabIndex:t.tabIndex===-1?0:(l=t.tabIndex)!=null?l:0,"aria-checked":c,"aria-labelledby":p==null?void 0:p.labelledby,"aria-describedby":p==null?void 0:p.describedby,disabled:m,onClick:$,onKeyUp:_,onKeyPress:B},h=de();return o.useEffect(()=>{var r;let C=(r=v.current)==null?void 0:r.closest("form");C&&s!==void 0&&h.addEventListener(C,"reset",()=>{g(s)})},[v,g]),R.createElement(R.Fragment,null,i!=null&&c&&R.createElement(he,{features:ye.Hidden,...fe({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:m,form:x,checked:c,name:i,value:j})}),re({ourProps:b,theirProps:L,slot:P,defaultTag:we,name:"Switch"}))}let Ne=me(Ee),$e=Ve,W=Object.assign(Ne,{Group:$e,Label:se,Description:ve});const y=o.forwardRef(({className:t,label:a,labelLeft:l=!1,checked:n,defaultChecked:u,disabled:d,onBlur:s,onChange:f,formValidation:m,type:i="switch",colorType:j="neutral",checkIcon:x=["fas","check"],containerRef:L,...p},v)=>{const[T,c]=o.useState(n??(u||!1)),g=o.useRef(`toggle---${ne()}`);o.useEffect(()=>{n!==void 0&&c(n)},[n]);const V=()=>e.jsx(W.Label,{className:I("toggle-label",{"toggle-label--left":l}),htmlFor:g.current,children:a}),$=(b,h)=>{const r=S=>{n===void 0&&c(S),f==null||f(S),b==null||b(S)},C=S=>{h==null||h(S),s==null||s(S)};return e.jsx(W.Group,{children:e.jsxs("div",{className:I(`${w}-toggle`,t),ref:L,children:[a&&l&&V(),e.jsx(W,{...p,id:g.current,checked:n??T,onChange:r,onBlur:C,className:I(`${w}-toggle-${i}`,`${w}-toggle-${i}--${j}`,{[`${w}-toggle-${i}--enabled`]:T},{[`${w}-toggle-${i}--disabled`]:d}),disabled:d,ref:v,children:i==="switch"?e.jsx("span",{className:"knob"}):e.jsx(ke,{show:T,className:"icon",enter:"transition-opacity duration-25",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-25",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx(Se,{icon:x})})}),a&&!l&&V()]})})};if(!m)return $();const{control:_,name:B,rules:P}=m;return e.jsx(ae,{name:B,rules:P,control:_,defaultValue:T,render:({field:{onChange:b,onBlur:h}})=>$(b,h)})});try{y.displayName="Toggle",y.__docgenInfo={description:"",displayName:"Toggle",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},labelLeft:{defaultValue:{value:"false"},description:"",name:"labelLeft",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},defaultChecked:{defaultValue:null,description:"",name:"defaultChecked",required:!1,type:{name:"boolean"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"OnBlur"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"OnChange"}},formValidation:{defaultValue:null,description:"",name:"formValidation",required:!1,type:{name:"FormValidationWithController<any>"}},type:{defaultValue:{value:"switch"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"switch"'},{value:'"checkbox"'}]}},colorType:{defaultValue:{value:"neutral"},description:"",name:"colorType",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"danger"'},{value:'"warning"'},{value:'"info"'},{value:'"neutral"'}]}},checkIcon:{defaultValue:{value:'["fas", "check"]'},description:"",name:"checkIcon",required:!1,type:{name:'["fas" | "far" | "fal" | "fat" | "fad" | "fab", string]'}},containerRef:{defaultValue:null,description:"",name:"containerRef",required:!1,type:{name:"ForwardedRef<HTMLDivElement>"}}}}}catch{}const rt={title:"Components/Form/Toggle",component:y,argTypes:{formValidation:k,onChange:k,className:k,onBlur:k,checkIcon:k,type:k},parameters:{controls:{expanded:!0}}},oe=t=>e.jsx(y,{...t}),E=oe.bind({});E.args={label:"My toggle"};const N=oe.bind({});N.args={label:"My checkbox",type:"checkbox"};const Ce=t=>{const[a,l]=o.useState(null),{handleSubmit:n,control:u}=le(),d=n(s=>{l(s)});return e.jsxs("form",{onSubmit:d,children:[e.jsx(y,{label:"What a Label",formValidation:{control:u,name:"toggle"},type:"checkbox",...t}),e.jsx(Re,{type:"submit",borderType:"outline",className:"mt-4",children:"Submit"}),a&&e.jsx("pre",{className:"mt-8",children:e.jsxs("code",{children:["Submitted value ",JSON.stringify(a)]})})]})},q=Ce.bind({}),D=()=>{const t=o.useRef(null),a=o.useRef(null);return e.jsxs("div",{id:"root",children:[e.jsx("code",{children:"You can forward ref into the component for cool stuff like tooltip too! Try to hover over the toggle below!"}),e.jsx(y,{label:"Toggle ref example",type:"checkbox",ref:t,className:"mb-8 mt-16"}),e.jsx(A,{offset:[0,10],stylePreset:"preset-1",refElement:t,children:e.jsx("p",{children:"A tooltip for just the toggle ╰(*°▽°*)╯"})}),e.jsx(y,{label:"Container ref example",containerRef:a}),e.jsx(A,{offset:[0,10],stylePreset:"preset-1",refElement:a,children:e.jsx("p",{children:"A tooltip for the whole container ╰(*°▽°*)╯"})})]})};var H,J,K;E.parameters={...E.parameters,docs:{...(H=E.parameters)==null?void 0:H.docs,source:{originalSource:"args => <Toggle {...args} />",...(K=(J=E.parameters)==null?void 0:J.docs)==null?void 0:K.source}}};var O,U,Y;N.parameters={...N.parameters,docs:{...(O=N.parameters)==null?void 0:O.docs,source:{originalSource:"args => <Toggle {...args} />",...(Y=(U=N.parameters)==null?void 0:U.docs)==null?void 0:Y.source}}};var X,z,Q;q.parameters={...q.parameters,docs:{...(X=q.parameters)==null?void 0:X.docs,source:{originalSource:`args => {
  const [submittedValue, setSubmittedValue] = useState<{
    [key: string]: string;
  } | null>(null);
  const {
    handleSubmit,
    control
  } = useForm();
  const onSubmit = handleSubmit(data => {
    setSubmittedValue(data);
  });
  return <form onSubmit={onSubmit}>\r
      <Toggle label="What a Label" formValidation={{
      control,
      name: "toggle"
    }} type="checkbox" {...args} />\r
\r
      <Button type="submit" borderType="outline" className="mt-4">\r
        Submit\r
      </Button>\r
\r
      {submittedValue && <pre className="mt-8">\r
          <code>Submitted value {JSON.stringify(submittedValue)}</code>\r
        </pre>}\r
    </form>;
}`,...(Q=(z=q.parameters)==null?void 0:z.docs)==null?void 0:Q.source}}};var Z,ee,te;D.parameters={...D.parameters,docs:{...(Z=D.parameters)==null?void 0:Z.docs,source:{originalSource:`() => {
  const toggleRef = useRef<HTMLButtonElement>(null);
  const containerRef = useRef<HTMLDivElement>(null);
  return <div id="root">\r
      <code>\r
        You can forward ref into the component for cool stuff like tooltip too!\r
        Try to hover over the toggle below!\r
      </code>\r
\r
      <Toggle label="Toggle ref example" type="checkbox" ref={toggleRef} className="mb-8 mt-16" />\r
      <Tooltip offset={[0, 10]} stylePreset="preset-1" refElement={toggleRef}>\r
        <p>A tooltip for just the toggle ╰(*°▽°*)╯</p>\r
      </Tooltip>\r
\r
      <Toggle label="Container ref example" containerRef={containerRef} />\r
      <Tooltip offset={[0, 10]} stylePreset="preset-1" refElement={containerRef}>\r
        <p>A tooltip for the whole container ╰(*°▽°*)╯</p>\r
      </Tooltip>\r
    </div>;
}`,...(te=(ee=D.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};const ot=["Default","Checkbox","WithForm","WithRef"];export{N as Checkbox,E as Default,q as WithForm,D as WithRef,ot as __namedExportsOrder,rt as default};
