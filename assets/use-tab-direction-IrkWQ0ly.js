import{R as c,r as s}from"./index-BCtMShv3.js";import{s as v,a as f}from"./use-sync-refs-CZ2KMCOF.js";import{f as h,s as p}from"./hidden-CkFg_2Sb.js";import{u as E}from"./keyboard-tlvg-gRs.js";import{n as y,s as b}from"./portal-BDPEH6C3.js";let w=s.createContext(()=>{});function M({value:t,children:n}){return c.createElement(w.Provider,{value:t},n)}function S(t,n,o,a){let i=v(o);s.useEffect(()=>{t=t??window;function r(l){i.current(l)}return t.addEventListener(n,r,a),()=>t.removeEventListener(n,r,a)},[t,n,a])}function q({defaultContainers:t=[],portals:n,mainTreeNode:o}={}){let a=y(o),i=f(()=>{var r,l;let u=[];for(let e of t)e!==null&&(e instanceof HTMLElement?u.push(e):"current"in e&&e.current instanceof HTMLElement&&u.push(e.current));if(n!=null&&n.current)for(let e of n.current)u.push(e);for(let e of(r=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?r:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e.id!=="headlessui-portal-root"&&(o&&(e.contains(o)||e.contains((l=o==null?void 0:o.getRootNode())==null?void 0:l.host))||u.some(m=>e.contains(m))||u.push(e));return u});return{resolveContainers:i,contains:f(r=>i().some(l=>l.contains(r)))}}let d=s.createContext(null);function A({children:t,node:n}){let[o,a]=s.useState(null),i=C(n??o);return c.createElement(d.Provider,{value:i},t,i===null&&c.createElement(h,{features:p.Hidden,ref:r=>{var l,u;if(r){for(let e of(u=(l=E(r))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e!=null&&e.contains(r)){a(e);break}}}}))}function C(t=null){var n;return(n=s.useContext(d))!=null?n:t}var L=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(L||{});function B(){let t=s.useRef(0);return b(!0,"keydown",n=>{n.key==="Tab"&&(t.current=n.shiftKey?1:0)},!0),t}export{M as C,S as E,A as O,q as R,L as a,C as b,B as u};
