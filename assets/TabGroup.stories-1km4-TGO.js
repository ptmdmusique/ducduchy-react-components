import{j as f}from"./jsx-runtime-Cw0GR0a5.js";import{r as l,R as j}from"./index-CTjT7uj6.js";import{c as $,C as Ie,a as S}from"./index-BPE7S6ci.js";import{I as ge,o as C}from"./keyboard-BCuVGIMY.js";import{O as oe,U as W,c as K,y as X,a as k,l as ne,C as z,u as H,d as Ee}from"./render-C-IlGZgy.js";import{T as Ne}from"./use-resolve-button-type-CoZBuHh8.js";import{f as Pe}from"./use-is-mounted-DsBFbocb.js";import{u as he,s as Le}from"./hidden-BS2yFtF9.js";import{I as U,N as Y,o as Se,O,M as w}from"./focus-management-CaV_VYtM.js";import{I as ae}from"./Icon-D9EK_Hve.js";import{B as Ce}from"./Button-CMa_9Q4I.js";import"./index-C4AY7A6g.js";import"./index-BRV0Se7Z.js";function we({onFocus:e}){let[t,a]=l.useState(!0),n=Pe();return t?j.createElement(he,{as:"button",type:"button",features:Le.Focusable,onFocus:o=>{o.preventDefault();let s,i=50;function x(){if(i--<=0){s&&cancelAnimationFrame(s);return}if(e()){if(cancelAnimationFrame(s),!n.current)return;a(!1);return}s=requestAnimationFrame(x)}s=requestAnimationFrame(x)}}):null}const ve=l.createContext(null);function Re(){return{groups:new Map,get(e,t){var a;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let o=(a=n.get(t))!=null?a:0;n.set(t,o+1);let s=Array.from(n.keys()).indexOf(t);function i(){let x=n.get(t);x>1?n.set(t,x-1):n.delete(t)}return[s,i]}}}function _e({children:e}){let t=l.useRef(Re());return l.createElement(ve.Provider,{value:t},e)}function ye(e){let t=l.useContext(ve);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let a=Me(),[n,o]=t.current.get(e,a);return l.useEffect(()=>o,[]),n}function Me(){var e,t,a;let n=(a=(t=(e=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?a:null;if(!n)return Symbol();let o=[],s=n;for(;s;)o.push(s.index),s=s.return;return"$."+o.join(".")}var ke=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ke||{}),$e=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))($e||{}),Oe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Oe||{});let je={0(e,t){var a;let n=U(e.tabs,p=>p.current),o=U(e.panels,p=>p.current),s=n.filter(p=>{var g;return!((g=p.current)!=null&&g.hasAttribute("disabled"))}),i={...e,tabs:n,panels:o};if(t.index<0||t.index>n.length-1){let p=H(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>H(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return i;let g=H(p,{0:()=>n.indexOf(s[0]),1:()=>n.indexOf(s[s.length-1])});return{...i,selectedIndex:g===-1?e.selectedIndex:g}}let x=n.slice(0,t.index),T=[...n.slice(t.index),...x].find(p=>s.includes(p));if(!T)return i;let h=(a=n.indexOf(T))!=null?a:e.selectedIndex;return h===-1&&(h=e.selectedIndex),{...i,selectedIndex:h}},1(e,t){if(e.tabs.includes(t.tab))return e;let a=e.tabs[e.selectedIndex],n=U([...e.tabs,t.tab],s=>s.current),o=e.selectedIndex;return e.info.current.isControlled||(o=n.indexOf(a),o===-1&&(o=e.selectedIndex)),{...e,tabs:n,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(a=>a!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:U([...e.panels,t.panel],a=>a.current)}},4(e,t){return{...e,panels:e.panels.filter(a=>a!==t.panel)}}},re=l.createContext(null);re.displayName="TabsDataContext";function A(e){let t=l.useContext(re);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,A),a}return t}let le=l.createContext(null);le.displayName="TabsActionsContext";function se(e){let t=l.useContext(le);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,se),a}return t}function Ae(e,t){return H(t.type,je,e,t)}let De=l.Fragment;function Fe(e,t){let{defaultIndex:a=0,vertical:n=!1,manual:o=!1,onChange:s,selectedIndex:i=null,...x}=e;const T=n?"vertical":"horizontal",h=o?"manual":"auto";let p=i!==null,g=K({isControlled:p}),b=X(t),[m,d]=l.useReducer(Ae,{info:g,selectedIndex:i??a,tabs:[],panels:[]}),M=l.useMemo(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),_=K(s||(()=>{})),v=K(m.tabs),y=l.useMemo(()=>({orientation:T,activation:h,...m}),[T,h,m]),E=k(u=>(d({type:1,tab:u}),()=>d({type:2,tab:u}))),R=k(u=>(d({type:3,panel:u}),()=>d({type:4,panel:u}))),N=k(u=>{L.current!==u&&_.current(u),p||d({type:0,index:u})}),L=K(p?e.selectedIndex:m.selectedIndex),q=l.useMemo(()=>({registerTab:E,registerPanel:R,change:N}),[]);ne(()=>{d({type:0,index:i??a})},[i]),ne(()=>{if(L.current===void 0||m.tabs.length<=0)return;let u=U(m.tabs,r=>r.current);u.some((r,c)=>m.tabs[c]!==r)&&N(u.indexOf(m.tabs[L.current]))});let G={ref:b};return j.createElement(_e,null,j.createElement(le.Provider,{value:q},j.createElement(re.Provider,{value:y},y.tabs.length<=0&&j.createElement(we,{onFocus:()=>{var u,r;for(let c of v.current)if(((u=c.current)==null?void 0:u.tabIndex)===0)return(r=c.current)==null||r.focus(),!0;return!1}}),z({ourProps:G,theirProps:x,slot:M,defaultTag:De,name:"Tabs"}))))}let qe="div";function Ge(e,t){let{orientation:a,selectedIndex:n}=A("Tab.List"),o=X(t);return z({ourProps:{ref:o,role:"tablist","aria-orientation":a},theirProps:e,slot:{selectedIndex:n},defaultTag:qe,name:"Tabs.List"})}let Ve="button";function Be(e,t){var a,n;let o=ge(),{id:s=`headlessui-tabs-tab-${o}`,...i}=e,{orientation:x,activation:T,selectedIndex:h,tabs:p,panels:g}=A("Tab"),b=se("Tab"),m=A("Tab"),d=l.useRef(null),M=X(d,t);ne(()=>b.registerTab(d),[b,d]);let _=ye("tabs"),v=p.indexOf(d);v===-1&&(v=_);let y=v===h,E=k(r=>{var c;let I=r();if(I===Y.Success&&T==="auto"){let V=(c=Se(d))==null?void 0:c.activeElement,J=m.tabs.findIndex(Te=>Te.current===V);J!==-1&&b.change(J)}return I}),R=k(r=>{let c=p.map(I=>I.current).filter(Boolean);if(r.key===C.Space||r.key===C.Enter){r.preventDefault(),r.stopPropagation(),b.change(v);return}switch(r.key){case C.Home:case C.PageUp:return r.preventDefault(),r.stopPropagation(),E(()=>O(c,w.First));case C.End:case C.PageDown:return r.preventDefault(),r.stopPropagation(),E(()=>O(c,w.Last))}if(E(()=>H(x,{vertical(){return r.key===C.ArrowUp?O(c,w.Previous|w.WrapAround):r.key===C.ArrowDown?O(c,w.Next|w.WrapAround):Y.Error},horizontal(){return r.key===C.ArrowLeft?O(c,w.Previous|w.WrapAround):r.key===C.ArrowRight?O(c,w.Next|w.WrapAround):Y.Error}}))===Y.Success)return r.preventDefault()}),N=l.useRef(!1),L=k(()=>{var r;N.current||(N.current=!0,(r=d.current)==null||r.focus({preventScroll:!0}),b.change(v),Ee(()=>{N.current=!1}))}),q=k(r=>{r.preventDefault()}),G=l.useMemo(()=>{var r;return{selected:y,disabled:(r=e.disabled)!=null?r:!1}},[y,e.disabled]),u={ref:M,onKeyDown:R,onMouseDown:q,onClick:L,id:s,role:"tab",type:Ne(e,d),"aria-controls":(n=(a=g[v])==null?void 0:a.current)==null?void 0:n.id,"aria-selected":y,tabIndex:y?0:-1};return z({ourProps:u,theirProps:i,slot:G,defaultTag:Ve,name:"Tabs.Tab"})}let Ue="div";function He(e,t){let{selectedIndex:a}=A("Tab.Panels"),n=X(t),o=l.useMemo(()=>({selectedIndex:a}),[a]);return z({ourProps:{ref:n},theirProps:e,slot:o,defaultTag:Ue,name:"Tabs.Panels"})}let We="div",Xe=oe.RenderStrategy|oe.Static;function ze(e,t){var a,n,o,s;let i=ge(),{id:x=`headlessui-tabs-panel-${i}`,tabIndex:T=0,...h}=e,{selectedIndex:p,tabs:g,panels:b}=A("Tab.Panel"),m=se("Tab.Panel"),d=l.useRef(null),M=X(d,t);ne(()=>m.registerPanel(d),[m,d,x]);let _=ye("panels"),v=b.indexOf(d);v===-1&&(v=_);let y=v===p,E=l.useMemo(()=>({selected:y}),[y]),R={ref:M,id:x,role:"tabpanel","aria-labelledby":(n=(a=g[v])==null?void 0:a.current)==null?void 0:n.id,tabIndex:y?T:-1};return!y&&((o=h.unmount)==null||o)&&!((s=h.static)!=null&&s)?j.createElement(he,{as:"span","aria-hidden":"true",...R}):z({ourProps:R,theirProps:h,slot:E,defaultTag:We,features:Xe,visible:y,name:"Tabs.Panel"})}let Je=W(Be),Ke=W(Fe),Ye=W(Ge),Qe=W(He),Ze=W(ze),B=Object.assign(Je,{Group:Ke,List:Ye,Panels:Qe,Panel:Ze});const Q=(e,t)=>Math.max(0,Math.min(e,t-1)),D=l.forwardRef(({selectedIndex:e,defaultSelectedIndex:t,onChange:a,tabActiveIndicatorProps:n,tabActiveIndicatorType:o="underline",renderIndicator:s=!0,numberOfTabs:i,renderWholeTab:x,renderTab:T,renderTabPanel:h,tabGroupProps:p,getTabPanelProps:g,getTabProps:b,tabListProps:m,tabPanelsProps:d},M)=>{const _=l.useRef(null),[v,y]=l.useState({left:0,width:0}),[E,R]=l.useState(Q(e??t??0,i)),N=l.useCallback(u=>{const r=_.current;if(r&&s){const c=r.children[u+1],{left:I,width:V}=c.getBoundingClientRect(),{left:J}=r.getBoundingClientRect();y({left:I-J,width:V})}},[s]);l.useEffect(()=>{N(Q(e??t??0,i))},[N,e,t,i]),l.useEffect(()=>{if(e!=null){const u=Q(e,i);R(u),N(u)}},[e,i,N]);const L=l.useMemo(()=>Array.from(Array(i)),[i]),q=l.useMemo(()=>L.map((u,r)=>{var I;const c=r===E;return(x==null?void 0:x(r,c))??l.createElement(B,{...b==null?void 0:b(r,c),as:"button",key:r,className:$("tab-group__tab",`tab-group__tab--${o}`,{"tab-group__tab--selected":c},(I=b==null?void 0:b(r,c))==null?void 0:I.className)},({selected:V})=>(T==null?void 0:T(r,V))??f.jsx("div",{children:r}))}),[E,L,o,b,T,x]),G=l.useMemo(()=>L.map((u,r)=>{const c=r===E,I=g==null?void 0:g(r,c);return l.createElement(B.Panel,{...I,key:r,className:$("tab-group__tab-panel",{"tab-group__tab-panel--selected":c},I==null?void 0:I.className)},h(r,c))}),[L,E,g,h]);return f.jsxs(B.Group,{as:"div",...p,className:$(`${Ie}-tab-group`,p==null?void 0:p.className),ref:M,selectedIndex:e,onChange:u=>{e==null&&(N(u),R(Q(u,i))),a==null||a(u)},children:[f.jsxs(B.List,{...m,as:"div",ref:_,className:$("tab-group__tab-list",m==null?void 0:m.className),children:[s&&f.jsx("div",{...n,className:$("tab-group__tab-active-indicator",`tab-group__tab-active-indicator--${o}`,n==null?void 0:n.className),style:v}),q]}),f.jsx(B.Panels,{...d,className:$("tab-group__tab-panels",d==null?void 0:d.className),children:G})]})});try{D.displayName="TabGroup",D.__docgenInfo={description:"",displayName:"TabGroup",props:{selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},defaultSelectedIndex:{defaultValue:null,description:"",name:"defaultSelectedIndex",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((index: number) => void)"}},tabActiveIndicatorProps:{defaultValue:null,description:"",name:"tabActiveIndicatorProps",required:!1,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},tabActiveIndicatorType:{defaultValue:{value:"underline"},description:"",name:"tabActiveIndicatorType",required:!1,type:{name:"enum",value:[{value:'"underline"'},{value:'"pill"'},{value:'"custom"'}]}},renderIndicator:{defaultValue:{value:"true"},description:"",name:"renderIndicator",required:!1,type:{name:"boolean"}},numberOfTabs:{defaultValue:null,description:"",name:"numberOfTabs",required:!0,type:{name:"number"}},renderWholeTab:{defaultValue:null,description:"Render the entire tab and have total control over accessibility",name:"renderWholeTab",required:!1,type:{name:"((index: number, selected: boolean) => ReactElement<any, string | JSXElementConstructor<any>>)"}},renderTab:{defaultValue:null,description:"",name:"renderTab",required:!1,type:{name:"((index: number, selected: boolean) => ReactElement<any, string | JSXElementConstructor<any>>)"}},getTabProps:{defaultValue:null,description:"",name:"getTabProps",required:!1,type:{name:"((index: number, selected: boolean) => CleanProps<ElementType, TabPropsWeControl> & OurProps<ElementType, TabRenderPropArg> & { ...; } & { ...; } & { ...; })"}},renderTabPanel:{defaultValue:null,description:"",name:"renderTabPanel",required:!0,type:{name:"(index: number, selected: boolean) => ReactElement<any, string | JSXElementConstructor<any>>"}},getTabPanelProps:{defaultValue:null,description:"",name:"getTabPanelProps",required:!1,type:{name:"((index: number, selected: boolean) => TabPanelProps<ElementType> & { ref?: Ref<HTMLElement>; })"}},tabGroupProps:{defaultValue:null,description:"",name:"tabGroupProps",required:!1,type:{name:"(CleanProps<ElementType, TabPropsWeControl> & OurProps<ElementType, TabRenderPropArg> & { ...; } & { ...; } & { ...; })"}},tabListProps:{defaultValue:null,description:"",name:"tabListProps",required:!1,type:{name:"(CleanProps<ElementType, ListPropsWeControl> & OurProps<ElementType, ListRenderPropArg> & { ...; } & { ...; })"}},tabPanelsProps:{defaultValue:null,description:"",name:"tabPanelsProps",required:!1,type:{name:"(TabPanelProps<ElementType> & { ref?: Ref<HTMLElement>; })"}}}}}catch{}const xt={title:"Components/Tab Group",component:D,argTypes:{getTabPanelProps:S,getTabProps:S,tabGroupProps:S,tabListProps:S,tabPanelsProps:S,renderTab:S,renderTabPanel:S,numberOfTabs:S,tabActiveIndicatorProps:S,onChange:S},parameters:{controls:{expanded:!0}}},P=[{icon:["fas","dog"],title:"Dog list"},{icon:["fas","cat"],title:"Cat list"},{icon:["fas","heart"],title:"Favorite list"}],F=[{text:"Dog content"},{text:"Cat content"},{text:"Favorite content"}],et=e=>f.jsx(D,{...e,tabGroupProps:{className:"text-skin-base ml-16"},numberOfTabs:Math.min(P.length,F.length),renderTab:t=>f.jsxs("div",{className:"flex",children:[f.jsx(ae,{icon:P[t].icon,className:"fa-fw mr-2"}),P[t].title]}),getTabProps:()=>({className:"px-4"}),renderTabPanel:t=>f.jsx("div",{children:F[t].text})}),Z=et.bind({}),ee=e=>f.jsx(D,{...e,tabGroupProps:{className:"text-skin-base ml-16 bg-skin-top rounded-md"},tabListProps:{className:"flex"},numberOfTabs:Math.min(P.length,F.length),renderTab:t=>f.jsxs("div",{className:"flex w-full justify-center",children:[f.jsx(ae,{icon:P[t].icon,className:"fa-fw mr-2"}),P[t].title]}),getTabProps:()=>({className:"px-4 flex-grow"}),renderTabPanel:t=>f.jsx("div",{className:"px-16 py-4",children:F[t].text})}),tt=(e,t)=>Math.max(0,Math.min(e,t-1)),te=e=>{const[t,a]=l.useState(e.defaultSelectedIndex??0);return l.useEffect(()=>{a(tt(e.defaultSelectedIndex??0,P.length))},[e.selectedIndex,e.defaultSelectedIndex]),f.jsxs(f.Fragment,{children:[f.jsx(Ce,{className:"mb-8",onClick:()=>a((t+1)%P.length),children:"Next index"}),f.jsx(D,{...e,selectedIndex:t,onChange:a,tabGroupProps:{className:"text-skin-base bg-skin-top rounded-md"},tabListProps:{className:"flex"},numberOfTabs:Math.min(P.length,F.length),renderTab:n=>f.jsxs("div",{className:"flex w-full justify-center",children:[f.jsx(ae,{icon:P[n].icon,className:"fa-fw mr-2"}),P[n].title]}),getTabProps:()=>({className:"px-4 flex-grow"}),renderTabPanel:n=>f.jsx("div",{className:"px-16 py-4",children:F[n].text})})]})};var ie,ue,ce;Z.parameters={...Z.parameters,docs:{...(ie=Z.parameters)==null?void 0:ie.docs,source:{originalSource:`args => <TabGroup {...args} tabGroupProps={{
  className: "text-skin-base ml-16"
}} numberOfTabs={Math.min(panelList.length, contentList.length)} renderTab={index => <div className="flex">\r
        <Icon icon={panelList[index].icon} className="fa-fw mr-2" />\r
        {panelList[index].title}\r
      </div>} getTabProps={() => ({
  className: "px-4"
})} renderTabPanel={index => <div>{contentList[index].text}</div>} />`,...(ce=(ue=Z.parameters)==null?void 0:ue.docs)==null?void 0:ce.source}}};var de,pe,me;ee.parameters={...ee.parameters,docs:{...(de=ee.parameters)==null?void 0:de.docs,source:{originalSource:`args => <TabGroup {...args} tabGroupProps={{
  className: "text-skin-base ml-16 bg-skin-top rounded-md"
}} tabListProps={{
  className: "flex"
}} numberOfTabs={Math.min(panelList.length, contentList.length)} renderTab={index => <div className="flex w-full justify-center">\r
        <Icon icon={panelList[index].icon} className="fa-fw mr-2" />\r
        {panelList[index].title}\r
      </div>} getTabProps={() => ({
  className: "px-4 flex-grow"
})} renderTabPanel={index => <div className="px-16 py-4">{contentList[index].text}</div>} />`,...(me=(pe=ee.parameters)==null?void 0:pe.docs)==null?void 0:me.source}}};var fe,xe,be;te.parameters={...te.parameters,docs:{...(fe=te.parameters)==null?void 0:fe.docs,source:{originalSource:`args => {
  const [selectedIndex, setSelectedIndex] = useState(args.defaultSelectedIndex ?? 0);
  useEffect(() => {
    setSelectedIndex(getIndex(args.defaultSelectedIndex ?? 0, panelList.length));
  }, [args.selectedIndex, args.defaultSelectedIndex]);
  return <>\r
      <Button className="mb-8" onClick={() => setSelectedIndex((selectedIndex + 1) % panelList.length)}>\r
        Next index\r
      </Button>\r
\r
      <TabGroup {...args} selectedIndex={selectedIndex} onChange={setSelectedIndex} tabGroupProps={{
      className: "text-skin-base bg-skin-top rounded-md"
    }} tabListProps={{
      className: "flex"
    }} numberOfTabs={Math.min(panelList.length, contentList.length)} renderTab={index => <div className="flex w-full justify-center">\r
            <Icon icon={panelList[index].icon} className="fa-fw mr-2" />\r
            {panelList[index].title}\r
          </div>} getTabProps={() => ({
      className: "px-4 flex-grow"
    })} renderTabPanel={index => <div className="px-16 py-4">{contentList[index].text}</div>} />\r
    </>;
}`,...(be=(xe=te.parameters)==null?void 0:xe.docs)==null?void 0:be.source}}};const bt=["Default","FullyStyled","ControlledIndex"];export{te as ControlledIndex,Z as Default,ee as FullyStyled,bt as __namedExportsOrder,xt as default};
