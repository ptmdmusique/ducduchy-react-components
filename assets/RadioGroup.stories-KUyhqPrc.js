import{j as i}from"./jsx-runtime-Cw0GR0a5.js";import{C as Ee,u as $e,F as Ve}from"./index.esm-Eo6g99vg.js";import{S as Ce}from"./StorybookCommonWithForm-BNoMnXIw.js";import{c as Y,a as x}from"./index-BPE7S6ci.js";import{r as l,R as P}from"./index-CTjT7uj6.js";import{G as Ne,w as ve}from"./description-B9Xxk_QN.js";import{I as ge,o as O}from"./keyboard-BCuVGIMY.js";import{B as _e,F as be,T as Te,e as De,p as je}from"./label-C2fQhLAH.js";import{p as Se}from"./use-disposables-BgtiGxt7.js";import{U as ye,a as k,y as Re,x as qe,C as he,c as we,l as Pe,u as ke}from"./render-C-IlGZgy.js";import{c as Ae}from"./use-flags-B0uNXtCz.js";import{F as Me}from"./use-tree-walker-DAqOuh4M.js";import{u as Ie,s as We}from"./hidden-BS2yFtF9.js";import{r as te}from"./bugs-DpEN4NTH.js";import{o as Le,O as oe,M as Z,N as ne,I as Oe}from"./focus-management-CaV_VYtM.js";import"./Button-CMa_9Q4I.js";import"./Icon-D9EK_Hve.js";import"./index-C4AY7A6g.js";import"./index-BRV0Se7Z.js";import"./use-is-mounted-DsBFbocb.js";var Ue=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Ue||{});let Be={0(e,a){let o=[...e.options,{id:a.id,element:a.element,propsRef:a.propsRef}];return{...e,options:Oe(o,n=>n.element.current)}},1(e,a){let o=e.options.slice(),n=e.options.findIndex(p=>p.id===a.id);return n===-1?e:(o.splice(n,1),{...e,options:o})}},ee=l.createContext(null);ee.displayName="RadioGroupDataContext";function xe(e){let a=l.useContext(ee);if(a===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,xe),o}return a}let re=l.createContext(null);re.displayName="RadioGroupActionsContext";function Fe(e){let a=l.useContext(re);if(a===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Fe),o}return a}function He(e,a){return ke(a.type,Be,e,a)}let Ke="div";function Je(e,a){let o=ge(),{id:n=`headlessui-radiogroup-${o}`,value:p,defaultValue:F,form:A,name:y,onChange:C,by:G=(r,b)=>r===b,disabled:E=!1,...v}=e,m=k(typeof G=="string"?(r,b)=>{let f=G;return(r==null?void 0:r[f])===(b==null?void 0:b[f])}:G),[T,N]=l.useReducer(He,{options:[]}),c=T.options,[M,D]=be(),[$,j]=ve(),_=l.useRef(null),I=Re(_,a),[g,W]=Te(p,C,F),R=l.useMemo(()=>c.find(r=>!r.propsRef.current.disabled),[c]),t=l.useMemo(()=>c.some(r=>m(r.propsRef.current.value,g)),[c,g]),s=k(r=>{var b;if(E||m(r,g))return!1;let f=(b=c.find(w=>m(w.propsRef.current.value,r)))==null?void 0:b.propsRef.current;return f!=null&&f.disabled?!1:(W==null||W(r),!0)});Me({container:_.current,accept(r){return r.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});let V=k(r=>{let b=_.current;if(!b)return;let f=Le(b),w=c.filter(d=>d.propsRef.current.disabled===!1).map(d=>d.element.current);switch(r.key){case O.Enter:je(r.currentTarget);break;case O.ArrowLeft:case O.ArrowUp:if(r.preventDefault(),r.stopPropagation(),oe(w,Z.Previous|Z.WrapAround)===ne.Success){let d=c.find(U=>U.element.current===(f==null?void 0:f.activeElement));d&&s(d.propsRef.current.value)}break;case O.ArrowRight:case O.ArrowDown:if(r.preventDefault(),r.stopPropagation(),oe(w,Z.Next|Z.WrapAround)===ne.Success){let d=c.find(U=>U.element.current===(f==null?void 0:f.activeElement));d&&s(d.propsRef.current.value)}break;case O.Space:{r.preventDefault(),r.stopPropagation();let d=c.find(U=>U.element.current===(f==null?void 0:f.activeElement));d&&s(d.propsRef.current.value)}break}}),u=k(r=>(N({type:0,...r}),()=>N({type:1,id:r.id}))),h=l.useMemo(()=>({value:g,firstOption:R,containsCheckedOption:t,disabled:E,compare:m,...T}),[g,R,t,E,m,T]),S=l.useMemo(()=>({registerOption:u,change:s}),[u,s]),Q={ref:I,id:n,role:"radiogroup","aria-labelledby":M,"aria-describedby":$,onKeyDown:V},X=l.useMemo(()=>({value:g}),[g]),q=l.useRef(null),L=Se();return l.useEffect(()=>{q.current&&F!==void 0&&L.addEventListener(q.current,"reset",()=>{s(F)})},[q,s]),P.createElement(j,{name:"RadioGroup.Description"},P.createElement(D,{name:"RadioGroup.Label"},P.createElement(re.Provider,{value:S},P.createElement(ee.Provider,{value:h},y!=null&&g!=null&&De({[y]:g}).map(([r,b],f)=>P.createElement(Ie,{features:We.Hidden,ref:f===0?w=>{var d;q.current=(d=w==null?void 0:w.closest("form"))!=null?d:null}:void 0,...qe({key:r,as:"input",type:"radio",checked:b!=null,hidden:!0,readOnly:!0,form:A,disabled:E,name:r,value:b})})),he({ourProps:Q,theirProps:v,slot:X,defaultTag:Ke,name:"RadioGroup"})))))}var ze=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(ze||{});let Qe="div";function Xe(e,a){var o;let n=ge(),{id:p=`headlessui-radiogroup-option-${n}`,value:F,disabled:A=!1,...y}=e,C=l.useRef(null),G=Re(C,a),[E,v]=be(),[m,T]=ve(),{addFlag:N,removeFlag:c,hasFlag:M}=Ae(1),D=we({value:F,disabled:A}),$=xe("RadioGroup.Option"),j=Fe("RadioGroup.Option");Pe(()=>j.registerOption({id:p,element:C,propsRef:D}),[p,j,C,D]);let _=k(u=>{var h;if(te(u.currentTarget))return u.preventDefault();j.change(F)&&(N(2),(h=C.current)==null||h.focus())}),I=k(u=>{if(te(u.currentTarget))return u.preventDefault();N(2)}),g=k(()=>c(2)),W=((o=$.firstOption)==null?void 0:o.id)===p,R=$.disabled||A,t=$.compare($.value,F),s={ref:G,id:p,role:"radio","aria-checked":t?"true":"false","aria-labelledby":E,"aria-describedby":m,"aria-disabled":R?!0:void 0,tabIndex:R?-1:t||!$.containsCheckedOption&&W?0:-1,onClick:R?void 0:_,onFocus:R?void 0:I,onBlur:R?void 0:g},V=l.useMemo(()=>({checked:t,disabled:R,active:M(2)}),[t,R,M]);return P.createElement(T,{name:"RadioGroup.Description"},P.createElement(v,{name:"RadioGroup.Label"},he({ourProps:s,theirProps:y,slot:V,defaultTag:Qe,name:"RadioGroup.Option"})))}let Ye=ye(Je),Ze=ye(Xe),B=Object.assign(Ye,{Option:Ze,Label:_e,Description:Ne});const er=(e,a,o)=>Math.max(e,Math.min(a,o));function z({className:e,itemClassName:a,itemClassNameGetter:o,dataList:n,getValue:p,radioGroupLabel:F,defaultSelectedIndex:A=-1,selectedIndex:y,disabled:C,renderOption:G,onChange:E,checkOptionDisable:v,getLabel:m,getDescription:T,leftLabel:N,formValidation:c,colorType:M="neutral"}){const[D,$]=l.useState((()=>{let t=er(-1,n.length-1,y??A);return t>-1&&(v!=null&&v(n[t],t))&&(t=n.findIndex((s,V)=>!(v!=null&&v(s,V)))),t})());l.useEffect(()=>{y!==void 0&&$(y>=0&&y<n.length?y:-1)},[y,n.length]);const j=l.useMemo(()=>{const t={};return n.forEach((s,V)=>{t[p(s)]={data:s,index:V}}),t},[n,p]),_=D>-1&&D<n.length?p(n[D]):void 0,I=t=>{const s=u=>{const{data:h,index:S}=j[u]||{};y===void 0&&$(S),E==null||E(h,S),t==null||t(p(h))},V=u=>i.jsx(B.Label,{className:Y("radio-label",{"radio-label--left":N}),children:u});return i.jsxs(B,{disabled:C,defaultValue:_,value:_,onChange:s,className:Y("form-radio-group-container",{"form-radio-group-container--disabled":C},{"form-radio-group-container--default":!G},e),children:[F&&i.jsx(B.Label,{className:"radio-main-label",children:F}),n.map((u,h)=>{const S=v==null?void 0:v(u,h);return i.jsx(B.Option,{value:p(u),className:Y("radio-container",{"radio-container--disabled":S},a,o==null?void 0:o(u,h)),disabled:S,children:({checked:Q,active:X,disabled:q})=>{const L={data:u,index:h,checked:Q,active:X,disabled:q};return(G==null?void 0:G(L))??i.jsxs(i.Fragment,{children:[N&&V(m==null?void 0:m(L)),i.jsx("div",{className:Y("form-radio-group__radio",`form-radio-group__radio--${M}`,{"form-radio-group__radio--checked":Q},{"form-radio-group__radio--active":X},{"form-radio-group__radio--disabled":q}),children:i.jsx("div",{className:"inner"})}),!N&&V(m==null?void 0:m(L)),T&&i.jsx(B.Description,{children:T(L)})]})}},h)})]})};if(!c)return I();const{control:g,name:W,rules:R}=c;return i.jsx(Ee,{name:W,rules:R,control:g,defaultValue:_,render:({field:{onChange:t}})=>I(t)})}try{z.displayName="RadioGroup",z.__docgenInfo={description:"",displayName:"RadioGroup",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},itemClassName:{defaultValue:null,description:"",name:"itemClassName",required:!1,type:{name:"string"}},itemClassNameGetter:{defaultValue:null,description:"",name:"itemClassNameGetter",required:!1,type:{name:"((item: Data, index: number) => string)"}},dataList:{defaultValue:null,description:"",name:"dataList",required:!0,type:{name:"Data[]"}},defaultSelectedIndex:{defaultValue:{value:"-1"},description:"",name:"defaultSelectedIndex",required:!1,type:{name:"number"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},getValue:{defaultValue:null,description:"",name:"getValue",required:!0,type:{name:"(data: Data) => Value"}},checkOptionDisable:{defaultValue:null,description:"",name:"checkOptionDisable",required:!1,type:{name:"((data: Data, index: number) => boolean)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((data: Data, index: number) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},radioGroupLabel:{defaultValue:null,description:"",name:"radioGroupLabel",required:!1,type:{name:"ReactNode"}},renderOption:{defaultValue:null,description:"",name:"renderOption",required:!1,type:{name:"GetFunction<Data>"}},getLabel:{defaultValue:null,description:"",name:"getLabel",required:!1,type:{name:"GetFunction<Data>"}},getDescription:{defaultValue:null,description:"",name:"getDescription",required:!1,type:{name:"GetFunction<Data>"}},leftLabel:{defaultValue:null,description:"",name:"leftLabel",required:!1,type:{name:"boolean"}},formValidation:{defaultValue:null,description:"",name:"formValidation",required:!1,type:{name:"FormValidationWithController<FormFields>"}},colorType:{defaultValue:{value:"neutral"},description:"",name:"colorType",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"danger"'},{value:'"warning"'},{value:'"info"'},{value:'"neutral"'}]}}}}}catch{}const ae=[{data:"ðŸ¶ Dog",disabled:!0},{data:"ðŸ± Cat"},{data:"ðŸ­ Mouse"},{data:"ðŸ¦œ Bird"}],Fr={title:"Components/Form/RadioGroup",component:z,argTypes:{formValidation:x,onChange:x,renderOption:x,getDescription:x,itemClassNameGetter:x,itemClassName:x,checkOptionDisable:x,getValue:x,getLabel:x,className:x,radioGroupLabel:x},parameters:{controls:{expanded:!0}}},Ge=e=>i.jsx(z,{...e}),H=Ge.bind({});H.args={dataList:ae,getValue:({data:e})=>e,getLabel:({data:e})=>i.jsx("div",{children:e.data}),checkOptionDisable:({disabled:e})=>e};const K=Ge.bind({});K.args={dataList:ae,getValue:({data:e})=>e,getLabel:({data:e})=>i.jsx("div",{children:e.data}),checkOptionDisable:({disabled:e})=>e,radioGroupLabel:i.jsx("div",{className:"text-lg font-semibold text-skin-exquisite",children:"ðŸ˜¶â€ðŸŒ«ï¸ A Fancy Label ðŸ˜¶â€ðŸŒ«ï¸"})};const rr=e=>{const a=$e();return i.jsx(Ve,{...a,children:i.jsx(Ce,{children:i.jsx(z,{formValidation:{control:a.control,name:"radioGroup"},...e})})})},J=rr.bind({});J.args={dataList:ae,getValue:({data:e})=>e,getLabel:({data:e})=>i.jsx("div",{children:e.data}),checkOptionDisable:({disabled:e})=>e};var ie,le,ue;H.parameters={...H.parameters,docs:{...(ie=H.parameters)==null?void 0:ie.docs,source:{originalSource:"args => <RadioGroup {...args} />",...(ue=(le=H.parameters)==null?void 0:le.docs)==null?void 0:ue.source}}};var se,de,pe;K.parameters={...K.parameters,docs:{...(se=K.parameters)==null?void 0:se.docs,source:{originalSource:"args => <RadioGroup {...args} />",...(pe=(de=K.parameters)==null?void 0:de.docs)==null?void 0:pe.source}}};var me,ce,fe;J.parameters={...J.parameters,docs:{...(me=J.parameters)==null?void 0:me.docs,source:{originalSource:`args => {
  const methods = useForm();
  return <FormProvider {...methods}>\r
      <StorybookCommonWithForm>\r
        <RadioGroup formValidation={{
        control: methods.control,
        name: "radioGroup"
      }} {...args} />\r
      </StorybookCommonWithForm>\r
    </FormProvider>;
}`,...(fe=(ce=J.parameters)==null?void 0:ce.docs)==null?void 0:fe.source}}};const Gr=["Default","WithGroupLabel","WithForm"];export{H as Default,J as WithForm,K as WithGroupLabel,Gr as __namedExportsOrder,Fr as default};
